{"version":3,"file":"multiselect.global.js","sources":["../src/utils/isNullish.js","../src/composables/useData.js","../src/composables/useValue.js","../src/composables/useSearch.js","../src/composables/usePointer.js","../src/utils/normalize.js","../src/composables/useOptions.js","../src/utils/isObject.js","../src/utils/arraysEqual.js","../src/composables/usePointerAction.js","../src/composables/useDropdown.js","../src/composables/useMultiselect.js","../src/composables/useKeyboard.js","../src/composables/useClasses.js","../src/composables/useScroll.js","../src/composables/useA11y.js","../src/composables/useI18n.js","../src/Multiselect.vue","../src/utils/resolveDeps.js","../src/Multiselect.vue?vue&type=template&id=6fa6e98c&lang.js"],"sourcesContent":["export default function isNullish (val) {\r\n  return [null, undefined].indexOf(val) !== -1\r\n}","import { toRefs, getCurrentInstance } from 'vue'\r\nimport isNullish from './../utils/isNullish'\r\n\r\nexport default function useData (props, context, dep)\r\n{\r\n  const { object, valueProp, mode } = toRefs(props)\r\n\r\n  const $this = getCurrentInstance().proxy\r\n\r\n  // ============ DEPENDENCIES ============\r\n\r\n  const iv = dep.iv\r\n\r\n  // =============== METHODS ==============\r\n\r\n  const update = (val, triggerInput = true) => {\r\n    // Setting object(s) as internal value\r\n    iv.value = makeInternal(val)\r\n\r\n    // Setting object(s) or plain value as external \r\n    // value based on `option` setting\r\n    const externalVal = makeExternal(val)\r\n\r\n    context.emit('change', externalVal, $this)\r\n\r\n    if (triggerInput) {\r\n      context.emit('input', externalVal)\r\n      context.emit('update:modelValue', externalVal)\r\n    }\r\n  } \r\n\r\n  // no export\r\n  const makeExternal = (val) => {\r\n    // If external value should be object\r\n    // no transformation is required\r\n    if (object.value) {\r\n      return val\r\n    }\r\n\r\n    // No need to transform if empty value\r\n    if (isNullish(val)) {\r\n      return val\r\n    }\r\n\r\n    // If external should be plain transform\r\n    // value object to plain values\r\n    return !Array.isArray(val) ? val[valueProp.value] : val.map(v => v[valueProp.value])\r\n  }\r\n\r\n  // no export\r\n  const makeInternal = (val) => {\r\n    if (isNullish(val)) {\r\n      return mode.value === 'single' ? {} : []\r\n    }\r\n\r\n    return val\r\n  }\r\n\r\n  return {\r\n    update,\r\n  }\r\n}","import { computed, toRefs, ref } from 'vue'\r\n\r\nexport default function useValue (props, context)\r\n{\r\n  const { value, modelValue, mode, valueProp } = toRefs(props)\r\n\r\n  // ================ DATA ================\r\n\r\n  // internalValue\r\n  const iv = ref(mode.value !== 'single' ? [] : {})\r\n\r\n  // ============== COMPUTED ==============\r\n\r\n  /* istanbul ignore next */\r\n  // externalValue\r\n  const ev = modelValue && modelValue.value !== undefined ? modelValue : value\r\n\r\n  const plainValue = computed(() => {\r\n    return mode.value === 'single' ? iv.value[valueProp.value] : iv.value.map(v=>v[valueProp.value])\r\n  })\r\n\r\n  const textValue = computed(() => {\r\n    return mode.value !== 'single' ? iv.value.map(v=>v[valueProp.value]).join(',') : iv.value[valueProp.value]\r\n  })\r\n\r\n  return {\r\n    iv,\r\n    internalValue: iv,\r\n    ev,\r\n    externalValue: ev,\r\n    textValue,\r\n    plainValue,\r\n  }\r\n}","import { ref, getCurrentInstance, watch, toRefs } from 'vue'\r\n\r\nexport default function useSearch (props, context, dep)\r\n{\r\n  const { regex } = toRefs(props)\r\n\r\n  const $this = getCurrentInstance().proxy\r\n\r\n  // ============ DEPENDENCIES ============\r\n\r\n  const isOpen = dep.isOpen\r\n  const open = dep.open\r\n\r\n  // ================ DATA ================\r\n\r\n  const search = ref(null)\r\n\r\n  const input = ref(null)\r\n\r\n  // =============== METHODS ==============\r\n\r\n  const clearSearch = () => {\r\n    search.value = ''\r\n  }\r\n\r\n  const handleSearchInput = (e) => {\r\n    search.value = e.target.value\r\n  }\r\n\r\n  const handleKeypress = (e) => {\r\n    if (regex && regex.value) {\r\n      let regexp = regex.value\r\n\r\n      if (typeof regexp === 'string') {\r\n        regexp = new RegExp(regexp)\r\n      }\r\n\r\n      if (!e.key.match(regexp)) {\r\n        e.preventDefault()\r\n      }\r\n    }\r\n  }\r\n\r\n  const handlePaste = (e) => {\r\n    if (regex && regex.value) {\r\n      let clipboardData = e.clipboardData || /* istanbul ignore next */ window.clipboardData\r\n      let pastedData = clipboardData.getData('Text')\r\n\r\n      let regexp = regex.value\r\n\r\n      if (typeof regexp === 'string') {\r\n        regexp = new RegExp(regexp)\r\n      }\r\n      \r\n      if (!pastedData.split('').every(c => !!c.match(regexp))) {\r\n        e.preventDefault()\r\n      }\r\n    }\r\n\r\n    context.emit('paste', e, $this)\r\n  }\r\n\r\n  // ============== WATCHERS ==============\r\n\r\n  watch(search, (val) => {\r\n    if (!isOpen.value && val) {\r\n      open()\r\n    }\r\n\r\n    context.emit('search-change', val, $this)\r\n  })\r\n\r\n  return {\r\n    search,\r\n    input,\r\n    clearSearch,\r\n    handleSearchInput,\r\n    handleKeypress,\r\n    handlePaste,\r\n  }\r\n}\r\n","import { ref, toRefs } from 'vue'\r\n\r\nexport default function usePointer (props, context, dep)\r\n{\r\n  const { groupSelect, mode, groups, disabledProp } = toRefs(props)\r\n\r\n  // ================ DATA ================\r\n\r\n  const pointer = ref(null)\r\n\r\n  // =============== METHODS ==============\r\n\r\n  const setPointer = (option) => {\r\n    if (option === undefined || (option !== null && option[disabledProp.value])) {\r\n      return\r\n    }\r\n\r\n    if (groups.value && option && option.group && (mode.value === 'single' || !groupSelect.value)) {\r\n      return\r\n    }\r\n\r\n    pointer.value = option\r\n  }\r\n\r\n  const clearPointer = () => {\r\n    setPointer(null)\r\n  }\r\n\r\n  return {\r\n    pointer,\r\n    setPointer,\r\n    clearPointer,\r\n  }\r\n}","export default function normalize (str, strict = true) {\r\n  return strict\r\n    ? String(str).toLowerCase().trim()\r\n    : String(str).toLowerCase()\r\n                 .normalize('NFD')\r\n                 .trim()\r\n                 .replace(new RegExp(/æ/g), 'ae')\r\n                 .replace(new RegExp(/œ/g), 'oe')\r\n                 .replace(new RegExp(/ø/g), 'o')\r\n                 .replace(/\\p{Diacritic}/gu, '')\r\n}","import { ref, toRefs, computed, watch, getCurrentInstance } from 'vue'\r\nimport normalize from './../utils/normalize'\r\nimport isObject from './../utils/isObject'\r\nimport isNullish from './../utils/isNullish'\r\nimport arraysEqual from './../utils/arraysEqual'\r\n\r\nexport default function useOptions (props, context, dep)\r\n{\r\n  const { \r\n    options, mode, trackBy: trackBy_, limit, hideSelected, createTag, createOption: createOption_, label,\r\n    appendNewTag, appendNewOption: appendNewOption_, multipleLabel, object, loading, delay, resolveOnLoad,\r\n    minChars, filterResults, clearOnSearch, clearOnSelect, valueProp, allowAbsent, groupLabel,\r\n    canDeselect, max, strict, closeOnSelect, closeOnDeselect, groups: groupped, reverse, infinite,\r\n    groupOptions, groupHideEmpty, groupSelect, onCreate, disabledProp, searchStart, searchFilter,\r\n  } = toRefs(props)\r\n\r\n  const $this = getCurrentInstance().proxy\r\n\r\n  // ============ DEPENDENCIES ============\r\n\r\n  const iv = dep.iv\r\n  const ev = dep.ev\r\n  const search = dep.search\r\n  const clearSearch = dep.clearSearch\r\n  const update = dep.update\r\n  const pointer = dep.pointer\r\n  const clearPointer = dep.clearPointer\r\n  const focus = dep.focus\r\n  const deactivate = dep.deactivate\r\n  const close = dep.close\r\n  const localize = dep.localize\r\n\r\n  // ================ DATA ================\r\n\r\n  // no export\r\n  // appendedOptions\r\n  const ap = ref([])\r\n\r\n  // no export\r\n  // resolvedOptions\r\n  const ro = ref([])\r\n\r\n  const resolving = ref(false)\r\n\r\n  // no export\r\n  const searchWatcher = ref(null)\r\n\r\n  const offset = ref(infinite.value && limit.value === -1 ? 10 : limit.value)\r\n\r\n  // ============== COMPUTED ==============\r\n\r\n  // no export\r\n  const createOption = computed(() => {\r\n    return createTag.value || createOption_.value || false\r\n  })\r\n\r\n  // no export\r\n  const appendNewOption = computed(() => {\r\n    if (appendNewTag.value !== undefined) {\r\n      return appendNewTag.value\r\n    } else if (appendNewOption_.value !== undefined) {\r\n      return appendNewOption_.value\r\n    }\r\n\r\n    return true\r\n  })\r\n\r\n  // no export\r\n  // extendedOptions\r\n  const eo = computed(() => {\r\n    if (groupped.value) {\r\n      let groups = eg.value || /* istanbul ignore next */ []\r\n\r\n      let eo = []\r\n\r\n      groups.forEach((group) => {\r\n        optionsToArray(group[groupOptions.value]).forEach((option) => {\r\n          eo.push(Object.assign({}, option, group[disabledProp.value] ? { [disabledProp.value]: true } : {}))\r\n        })\r\n      })\r\n\r\n      return eo\r\n    } else {\r\n      let eo = optionsToArray(ro.value || /* istanbul ignore next */ [])\r\n\r\n      if (ap.value.length) {\r\n        eo = eo.concat(ap.value)\r\n      }\r\n\r\n      return eo\r\n    }\r\n  })\r\n\r\n  // preFilteredOptions\r\n  const pfo = computed(() => {\r\n    let options = eo.value\r\n\r\n    if (reverse.value) {\r\n      options = options.reverse()\r\n    }\r\n\r\n    if (createdOption.value.length) {\r\n      options = createdOption.value.concat(options)\r\n    }\r\n\r\n    return filterOptions(options)\r\n  })\r\n\r\n  // filteredOptions\r\n  const fo = computed(() => {\r\n    let options = pfo.value\r\n\r\n    if (offset.value > 0) {\r\n      options = options.slice(0, offset.value)\r\n    }\r\n\r\n    return options\r\n  })\r\n\r\n  // no export\r\n  // extendedGroups\r\n  const eg = computed(() => {\r\n    if (!groupped.value) {\r\n      return []\r\n    }\r\n\r\n    let eg = []\r\n    let groups = ro.value || /* istanbul ignore next */ []\r\n\r\n    if (ap.value.length) {\r\n      eg.push({\r\n        [groupLabel.value]: ' ',\r\n        [groupOptions.value]: [...ap.value],\r\n        __CREATE__: true\r\n      })\r\n    }\r\n\r\n    return eg.concat(groups)\r\n  })\r\n\r\n  // preFilteredGroups\r\n  const pfg = computed(() => {\r\n    let groups = [...eg.value].map(g => ({...g}))\r\n\r\n    if (createdOption.value.length) {\r\n      if (groups[0] && groups[0].__CREATE__) {\r\n        groups[0][groupOptions.value] = [...createdOption.value, ...groups[0][groupOptions.value]]\r\n      } else {\r\n        groups = [{\r\n          [groupLabel.value]: ' ',\r\n          [groupOptions.value]: [...createdOption.value],\r\n          __CREATE__: true\r\n        }].concat(groups)\r\n      }\r\n    }\r\n\r\n    return groups\r\n  })\r\n\r\n  // filteredGroups\r\n  const fg = computed(() => {\r\n    if (!groupped.value) {\r\n      return []\r\n    }\r\n\r\n    let options = pfg.value\r\n\r\n    return filterGroups((options || /* istanbul ignore next */ []).map((group, index) => {\r\n      const arrayOptions = optionsToArray(group[groupOptions.value])\r\n\r\n      return {\r\n        ...group,\r\n        index,\r\n        group: true,\r\n        [groupOptions.value]: filterOptions(arrayOptions, false).map(o => Object.assign({}, o, group[disabledProp.value] ? { [disabledProp.value]: true } : {})),\r\n        __VISIBLE__: filterOptions(arrayOptions).map(o => Object.assign({}, o, group[disabledProp.value] ? { [disabledProp.value]: true } : {})),\r\n      }\r\n      // Difference between __VISIBLE__ and {groupOptions}: visible does not contain selected options when hideSelected=true\r\n    }))\r\n  })\r\n\r\n  const hasSelected = computed(() => {\r\n    switch (mode.value) {\r\n      case 'single':\r\n        return !isNullish(iv.value[valueProp.value])\r\n\r\n      case 'multiple':\r\n      case 'tags':\r\n        return !isNullish(iv.value) && iv.value.length > 0\r\n    }\r\n  })\r\n\r\n  const multipleLabelText = computed(() => {\r\n    return multipleLabel !== undefined && multipleLabel.value !== undefined\r\n      ? multipleLabel.value(iv.value, $this)\r\n      : (iv.value && iv.value.length > 1 ? `${iv.value.length} options selected` : `1 option selected`)\r\n  })\r\n\r\n  const noOptions = computed(() => {\r\n    return !eo.value.length && !resolving.value && !createdOption.value.length\r\n  })\r\n\r\n\r\n  const noResults = computed(() => {\r\n    return eo.value.length > 0 && fo.value.length == 0 && ((search.value && groupped.value) || !groupped.value)\r\n  })\r\n\r\n  // no export\r\n  const createdOption = computed(() => {\r\n    if (createOption.value === false || !search.value) {\r\n      return []\r\n    }\r\n\r\n    if (getOptionByTrackBy(search.value) !== -1) {\r\n      return []\r\n    }\r\n\r\n    return [{\r\n      [valueProp.value]: search.value,\r\n      [trackBy.value]: search.value,\r\n      [label.value]: search.value,\r\n      __CREATE__: true,\r\n    }]\r\n  })\r\n\r\n  const trackBy = computed(() => {\r\n    return trackBy_.value || label.value\r\n  })\r\n\r\n  // no export\r\n  const nullValue = computed(() => {\r\n    switch (mode.value) {\r\n      case 'single':\r\n        return null\r\n\r\n      case 'multiple':\r\n      case 'tags':\r\n        return []\r\n    }\r\n  })\r\n\r\n  const busy = computed(() => {\r\n    return loading.value || resolving.value\r\n  })\r\n\r\n  // =============== METHODS ==============\r\n\r\n  /**\r\n   * @param {array|object|string|number} option \r\n   */\r\n  const select = (option) => {\r\n    if (typeof option !== 'object') {\r\n      option = getOption(option)\r\n    }\r\n\r\n    switch (mode.value) {\r\n      case 'single':\r\n        update(option)\r\n        break\r\n\r\n      case 'multiple':\r\n      case 'tags':\r\n        update((iv.value).concat(option))\r\n        break\r\n    }\r\n\r\n    context.emit('select', finalValue(option), option, $this)\r\n  }\r\n\r\n  const deselect = (option) => {\r\n    if (typeof option !== 'object') {\r\n      option = getOption(option)\r\n    }\r\n\r\n    switch (mode.value) {\r\n      case 'single':\r\n        clear()\r\n        break\r\n\r\n      case 'tags':\r\n      case 'multiple':\r\n        update(Array.isArray(option)\r\n          ? iv.value.filter(v => option.map(o => o[valueProp.value]).indexOf(v[valueProp.value]) === -1)\r\n          : iv.value.filter(v => v[valueProp.value] != option[valueProp.value]))\r\n        break\r\n    }\r\n\r\n    context.emit('deselect', finalValue(option), option, $this)\r\n  }\r\n\r\n  // no export\r\n  const finalValue = (option) => {\r\n    return object.value ? option : option[valueProp.value]\r\n  }\r\n\r\n  const remove = (option) => {\r\n    deselect(option)\r\n  }\r\n\r\n  const handleTagRemove = (option, e) => {\r\n    if (e.button !== 0) {\r\n      e.preventDefault()\r\n      return\r\n    }\r\n\r\n    remove(option)\r\n  }\r\n\r\n  const clear = () => {\r\n    context.emit('clear', $this)\r\n    update(nullValue.value)\r\n  }\r\n\r\n  const isSelected = (option) => {\r\n    if (option.group !== undefined) {\r\n      return mode.value === 'single' ? false : areAllSelected(option[groupOptions.value]) && option[groupOptions.value].length\r\n    }\r\n\r\n    switch (mode.value) {\r\n      case 'single':\r\n        return !isNullish(iv.value) && iv.value[valueProp.value] == option[valueProp.value]\r\n\r\n      case 'tags':\r\n      case 'multiple':\r\n        return !isNullish(iv.value) && iv.value.map(o => o[valueProp.value]).indexOf(option[valueProp.value]) !== -1\r\n    }\r\n  }\r\n\r\n  const isDisabled = (option) => {\r\n    return option[disabledProp.value] === true\r\n  }\r\n\r\n  const isMax = () => {\r\n    if (max === undefined || max.value === -1 || (!hasSelected.value && max.value > 0)) {\r\n      return false\r\n    }\r\n    \r\n    return iv.value.length >= max.value\r\n  }\r\n\r\n  const handleOptionClick = (option) => {\r\n    if (isDisabled(option)) {\r\n      return\r\n    }\r\n\r\n    if (onCreate && onCreate.value && !isSelected(option) && option.__CREATE__) {\r\n      option = { ...option }\r\n      delete option.__CREATE__\r\n\r\n      option = onCreate.value(option, $this)\r\n      \r\n      if (option instanceof Promise) {\r\n        resolving.value = true\r\n        option.then((result) => {\r\n          resolving.value = false\r\n          handleOptionSelect(result)\r\n        })\r\n\r\n        return\r\n      } \r\n    }\r\n\r\n    handleOptionSelect(option)\r\n  }\r\n\r\n  const handleOptionSelect = (option) => {\r\n    if (option.__CREATE__) {\r\n      option = { ...option }\r\n      delete option.__CREATE__\r\n    }\r\n    \r\n    switch (mode.value) {\r\n      case 'single':\r\n        if (option && isSelected(option)) {\r\n          if (canDeselect.value) {\r\n            deselect(option)\r\n          }\r\n\r\n          if (closeOnDeselect.value) {\r\n            clearPointer()\r\n            close()\r\n          }\r\n          return\r\n        }\r\n\r\n        if (option) {\r\n          handleOptionAppend(option)\r\n        }\r\n\r\n        /* istanbul ignore else */\r\n        if (clearOnSelect.value) {\r\n          clearSearch()\r\n        }\r\n\r\n        if (closeOnSelect.value) {\r\n          clearPointer()\r\n          close()\r\n        }\r\n\r\n        if (option) {\r\n          select(option)\r\n        }\r\n        break\r\n\r\n      case 'multiple':\r\n        if (option && isSelected(option)) {\r\n          deselect(option)\r\n\r\n          if (closeOnDeselect.value) {\r\n            clearPointer()\r\n            close()\r\n          }\r\n          return\r\n        }\r\n\r\n        if (isMax()) {\r\n          context.emit('max', $this)\r\n          return\r\n        }\r\n\r\n        if (option) {\r\n          handleOptionAppend(option)\r\n          select(option)\r\n        }\r\n\r\n        if (clearOnSelect.value) {\r\n          clearSearch()\r\n        }\r\n\r\n        if (hideSelected.value) {\r\n          clearPointer()\r\n        }\r\n\r\n        if (closeOnSelect.value) {\r\n          close()\r\n        }\r\n        break\r\n\r\n      case 'tags':\r\n        if (option && isSelected(option)) {\r\n          deselect(option)\r\n\r\n          if (closeOnDeselect.value) {\r\n            clearPointer()\r\n            close()\r\n          }\r\n          return\r\n        }\r\n\r\n        if (isMax()) {\r\n          context.emit('max', $this)\r\n          return\r\n        }\r\n\r\n        if (option) {\r\n          handleOptionAppend(option)\r\n        }\r\n\r\n        if (clearOnSelect.value) {\r\n          clearSearch()\r\n        }\r\n\r\n        if (option) {\r\n          select(option)\r\n        }\r\n\r\n        if (hideSelected.value) {\r\n          clearPointer()\r\n        }\r\n\r\n        if (closeOnSelect.value) {\r\n          close()\r\n        }\r\n        break\r\n    }\r\n\r\n    if (!closeOnSelect.value) {\r\n      focus()\r\n    }\r\n  }\r\n\r\n  const handleGroupClick = (group) => {\r\n    if (isDisabled(group) || mode.value === 'single' || !groupSelect.value) {\r\n      return\r\n    }\r\n\r\n    switch (mode.value) {\r\n      case 'multiple':\r\n      case 'tags':\r\n        if (areAllEnabledSelected(group[groupOptions.value])) {\r\n          deselect(group[groupOptions.value])\r\n        } else {\r\n          select(group[groupOptions.value]\r\n            .filter(o => iv.value.map(v => v[valueProp.value]).indexOf(o[valueProp.value]) === -1)\r\n            .filter(o => !o[disabledProp.value])\r\n            .filter((o, k) => iv.value.length + 1 + k <= max.value || max.value === -1)\r\n          )\r\n        }\r\n        break\r\n    }\r\n\r\n    if (closeOnSelect.value) {\r\n      deactivate()\r\n    }\r\n  }\r\n\r\n  const handleOptionAppend = (option) => {\r\n    if (getOption(option[valueProp.value]) === undefined && createOption.value) {\r\n      context.emit('tag', option[valueProp.value], $this)\r\n      context.emit('option', option[valueProp.value], $this)\r\n      context.emit('create', option[valueProp.value], $this)\r\n\r\n      if (appendNewOption.value) {\r\n        appendOption(option)\r\n      }\r\n\r\n      clearSearch()\r\n    }\r\n  }\r\n\r\n  const selectAll = () => {\r\n    if (mode.value === 'single') {\r\n      return\r\n    }\r\n\r\n    select(fo.value.filter(o => !o.disabled && !isSelected(o)))\r\n  }\r\n\r\n  // no export\r\n  const areAllEnabledSelected = (options) => {\r\n    return options.find(o => !isSelected(o) && !o[disabledProp.value]) === undefined\r\n  }\r\n\r\n  // no export\r\n  const areAllSelected = (options) => {\r\n    return options.find(o => !isSelected(o)) === undefined\r\n  }\r\n\r\n  const getOption = (val) => {\r\n    return eo.value[eo.value.map(o => String(o[valueProp.value])).indexOf(String(val))]\r\n  }\r\n\r\n  // no export\r\n  const getOptionByTrackBy = (val, norm = true) => {\r\n    return eo.value.map(o => parseInt(o[trackBy.value]) == o[trackBy.value] ? parseInt(o[trackBy.value]) : o[trackBy.value]).indexOf(\r\n      parseInt(val) == val ? parseInt(val) : val\r\n    )\r\n  }\r\n\r\n  // no export\r\n  const shouldHideOption = (option) => {\r\n    return ['tags', 'multiple'].indexOf(mode.value) !== -1 && hideSelected.value && isSelected(option)\r\n  }\r\n\r\n  // no export\r\n  const appendOption = (option) => {\r\n    ap.value.push(option)\r\n  }\r\n\r\n  // no export\r\n  const filterGroups = (groups) => {\r\n    // If the search has value we need to filter among \r\n    // the ones that are visible to the user to avoid\r\n    // displaying groups which technically have options\r\n    // based on search but that option is already selected.\r\n    return groupHideEmpty.value\r\n      ? groups.filter(g => search.value\r\n          ? g.__VISIBLE__.length\r\n          : g[groupOptions.value].length\r\n        )\r\n      : groups.filter(g => search.value ? g.__VISIBLE__.length : true)\r\n  }\r\n\r\n  // no export\r\n  const filterOptions = (options, excludeHideSelected = true) => {\r\n    let fo = options\r\n    \r\n    if (search.value && filterResults.value) {\r\n      let filter = searchFilter.value\r\n\r\n      if (!filter) {\r\n        filter = (option, $this) => {\r\n          let target = normalize(localize(option[trackBy.value]), strict.value)\r\n\r\n          return searchStart.value\r\n            ? target.startsWith(normalize(search.value, strict.value))\r\n            : target.indexOf(normalize(search.value, strict.value)) !== -1\r\n        }\r\n      }\r\n\r\n      fo = fo.filter(filter)\r\n    }\r\n\r\n    if (hideSelected.value && excludeHideSelected) {\r\n      fo = fo.filter((option) => !shouldHideOption(option))\r\n    }\r\n\r\n    return fo\r\n  }\r\n\r\n  // no export\r\n  const optionsToArray = (options) => {\r\n    let uo = options\r\n    \r\n    // Transforming an object to an array of objects\r\n    if (isObject(uo)) {\r\n      uo = Object.keys(uo).map((key) => {\r\n        let val = uo[key]\r\n\r\n        return { [valueProp.value]: key, [trackBy.value]: val, [label.value]: val}\r\n      })\r\n    }\r\n\r\n    // Transforming an plain arrays to an array of objects\r\n    uo = uo.map((val) => {\r\n      return typeof val === 'object' ? val : { [valueProp.value]: val, [trackBy.value]: val, [label.value]: val}\r\n    })\r\n\r\n    return uo\r\n  }\r\n\r\n  // no export\r\n  const initInternalValue = () => {\r\n    if (!isNullish(ev.value)) {\r\n      iv.value = makeInternal(ev.value)\r\n    }\r\n  }\r\n\r\n  const resolveOptions = (callback) => {\r\n    resolving.value = true\r\n\r\n    return new Promise((resolve, reject) => {\r\n      options.value(search.value, $this).then((response) => {\r\n        ro.value = response || []\r\n\r\n        if (typeof callback == 'function') {\r\n          callback(response)\r\n        }\r\n\r\n        resolving.value = false\r\n      }).catch((e) => {\r\n        console.error(e)\r\n\r\n        ro.value = []\r\n\r\n        resolving.value = false\r\n      }).finally(() => {\r\n        resolve()\r\n      })\r\n    })\r\n  }\r\n\r\n  // no export\r\n  const refreshLabels = () => {\r\n    if (!hasSelected.value) {\r\n      return\r\n    }\r\n\r\n    if (mode.value === 'single') {\r\n      let option = getOption(iv.value[valueProp.value])\r\n\r\n      /* istanbul ignore else */\r\n      if (option !== undefined) {\r\n        let newLabel = option[label.value]\r\n\r\n        iv.value[label.value] = newLabel\r\n\r\n        if (object.value) {\r\n          ev.value[label.value] = newLabel\r\n        }\r\n      }\r\n    } else {\r\n      iv.value.forEach((val, i) => {\r\n        let option = getOption(iv.value[i][valueProp.value])\r\n\r\n        /* istanbul ignore else */\r\n        if (option !== undefined) {\r\n          let newLabel = option[label.value]\r\n\r\n          iv.value[i][label.value] = newLabel\r\n\r\n          if (object.value) {\r\n            ev.value[i][label.value] = newLabel\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  const refreshOptions = (callback) => {\r\n    resolveOptions(callback)\r\n  }\r\n\r\n  // no export\r\n  const makeInternal = (val) => {\r\n    if (isNullish(val)) {\r\n      return mode.value === 'single' ? {} : []\r\n    }\r\n\r\n    if (object.value) {\r\n      return val\r\n    }\r\n\r\n    // If external should be plain transform value object to plain values\r\n    return mode.value === 'single' ? getOption(val) || (allowAbsent.value ? {\r\n      [label.value]: val,\r\n      [valueProp.value]: val,\r\n      [trackBy.value]: val,\r\n    } : {}) : val.filter(v => !!getOption(v) || allowAbsent.value).map(v => getOption(v) || {\r\n      [label.value]: v,\r\n      [valueProp.value]: v,\r\n      [trackBy.value]: v,\r\n    })\r\n  }\r\n\r\n  // no export\r\n  const initSearchWatcher = () => {\r\n    searchWatcher.value = watch(search, (query) => {\r\n      if (query.length < minChars.value || (!query && minChars.value !== 0)) {\r\n        return\r\n      }\r\n\r\n      resolving.value = true\r\n\r\n      if (clearOnSearch.value) {\r\n        ro.value = []\r\n      }\r\n      setTimeout(() => {\r\n        if (query != search.value) {\r\n          return\r\n        }\r\n\r\n        options.value(search.value, $this).then((response) => {\r\n          if (query == search.value || !search.value) {\r\n            ro.value = response\r\n            pointer.value = fo.value.filter(o => o[disabledProp.value] !== true)[0] || null\r\n            resolving.value = false\r\n          }\r\n        }).catch( /* istanbul ignore next */ (e) => {\r\n          console.error(e)\r\n        })\r\n      }, delay.value)\r\n\r\n    }, { flush: 'sync' })\r\n  }\r\n\r\n  // ================ HOOKS ===============\r\n\r\n  if (mode.value !== 'single' && !isNullish(ev.value) && !Array.isArray(ev.value)) {\r\n    throw new Error(`v-model must be an array when using \"${mode.value}\" mode`)\r\n  }\r\n\r\n  if (options && typeof options.value == 'function') {\r\n    if (resolveOnLoad.value) {\r\n      resolveOptions(initInternalValue)\r\n    } else if (object.value == true) {\r\n      initInternalValue()\r\n    }\r\n  }\r\n  else {\r\n    ro.value = options.value\r\n\r\n    initInternalValue()\r\n  }\r\n  \r\n  // ============== WATCHERS ==============\r\n\r\n  if (delay.value > -1) {\r\n    initSearchWatcher()\r\n  }\r\n\r\n  watch(delay, (value, old) => {\r\n    /* istanbul ignore else */\r\n    if (searchWatcher.value) {\r\n      searchWatcher.value()\r\n    }\r\n\r\n    if (value >= 0) {\r\n      initSearchWatcher()\r\n    }\r\n  })\r\n\r\n  watch(ev, (newValue) => {\r\n    if (isNullish(newValue)) {\r\n      update(makeInternal(newValue), false)\r\n      return\r\n    }\r\n\r\n    switch (mode.value) {\r\n      case 'single':\r\n        if (object.value ? newValue[valueProp.value] != iv.value[valueProp.value] : newValue != iv.value[valueProp.value]) {\r\n          update(makeInternal(newValue), false)\r\n        }\r\n        break\r\n\r\n      case 'multiple':\r\n      case 'tags':\r\n        if (!arraysEqual(object.value ? newValue.map(o => o[valueProp.value]) : newValue, iv.value.map(o => o[valueProp.value]))) {\r\n          update(makeInternal(newValue), false)\r\n        }\r\n        break\r\n    }\r\n  }, { deep: true })\r\n\r\n  watch(options, (n, o) => {\r\n    if (typeof props.options === 'function') {\r\n      if (resolveOnLoad.value && (!o || (n && n.toString() !== o.toString()))) {\r\n        resolveOptions()\r\n      }\r\n    } else {\r\n      ro.value = props.options\r\n\r\n      if (!Object.keys(iv.value).length) {\r\n        initInternalValue()\r\n      }\r\n\r\n      refreshLabels()\r\n    }\r\n  })\r\n\r\n  watch(label, refreshLabels)\r\n\r\n  return {\r\n    pfo,\r\n    fo,\r\n    filteredOptions: fo,\r\n    hasSelected,\r\n    multipleLabelText,\r\n    eo,\r\n    extendedOptions: eo,\r\n    eg,\r\n    extendedGroups: eg,\r\n    fg,\r\n    filteredGroups: fg,\r\n    noOptions,\r\n    noResults,\r\n    resolving,\r\n    busy,\r\n    offset,\r\n    select,\r\n    deselect,\r\n    remove,\r\n    selectAll,\r\n    clear,\r\n    isSelected,\r\n    isDisabled,\r\n    isMax,\r\n    getOption,\r\n    handleOptionClick,\r\n    handleGroupClick,\r\n    handleTagRemove,\r\n    refreshOptions,\r\n    resolveOptions,\r\n    refreshLabels,\r\n  }\r\n}","export default function isObject (variable) {\r\n  return Object.prototype.toString.call(variable) === '[object Object]'\r\n}","export default function arraysEqual (array1, array2) {\r\n  const array2Sorted = array2.slice().sort()\r\n\r\n  return array1.length === array2.length && array1.slice().sort().every(function(value, index) {\r\n      return value === array2Sorted[index];\r\n  })\r\n}","import { toRefs, watch, nextTick, computed } from 'vue'\r\n\r\nexport default function usePointer (props, context, dep)\r\n{\r\n  const {\r\n    valueProp, showOptions, searchable, groupLabel,\r\n    groups: groupped, mode, groupSelect, disabledProp,\r\n    groupOptions,\r\n  } = toRefs(props)\r\n\r\n  // ============ DEPENDENCIES ============\r\n\r\n  const fo = dep.fo\r\n  const fg = dep.fg\r\n  const handleOptionClick = dep.handleOptionClick\r\n  const handleGroupClick = dep.handleGroupClick\r\n  const search = dep.search\r\n  const pointer = dep.pointer\r\n  const setPointer = dep.setPointer\r\n  const clearPointer = dep.clearPointer\r\n  const multiselect = dep.multiselect\r\n  const isOpen = dep.isOpen\r\n\r\n  // ============== COMPUTED ==============\r\n\r\n  // no export\r\n  const options = computed(() => {\r\n    return fo.value.filter(o => !o[disabledProp.value])\r\n  })\r\n\r\n  const groups = computed(() => {\r\n    return fg.value.filter(g => !g[disabledProp.value])\r\n  })\r\n\r\n  const canPointGroups = computed(() => {\r\n    return mode.value !== 'single' && groupSelect.value\r\n  })\r\n\r\n  const isPointerGroup = computed(() => {\r\n    return pointer.value && pointer.value.group\r\n  })\r\n\r\n  const currentGroup = computed(() => {\r\n    return getParentGroup(pointer.value)\r\n  })\r\n\r\n  const prevGroup = computed(() => {\r\n    const group = isPointerGroup.value ? pointer.value : /* istanbul ignore next */ getParentGroup(pointer.value)\r\n    const groupIndex = groups.value.map(g => g[groupLabel.value]).indexOf(group[groupLabel.value])\r\n    let prevGroup = groups.value[groupIndex - 1]\r\n\r\n    if (prevGroup === undefined) {\r\n      prevGroup = lastGroup.value\r\n    }\r\n\r\n    return prevGroup\r\n  })\r\n  \r\n  const nextGroup = computed(() => {\r\n    let nextIndex = groups.value.map(g => g.label).indexOf(isPointerGroup.value\r\n      ? pointer.value[groupLabel.value]\r\n      : getParentGroup(pointer.value)[groupLabel.value]) + 1\r\n\r\n    if (groups.value.length <= nextIndex) {\r\n      nextIndex = 0\r\n    }\r\n\r\n    return groups.value[nextIndex]\r\n  })\r\n\r\n  const lastGroup = computed(() => {\r\n    return [...groups.value].slice(-1)[0]\r\n  })\r\n  \r\n  const currentGroupFirstEnabledOption = computed(() => {\r\n    return pointer.value.__VISIBLE__.filter(o => !o[disabledProp.value])[0]\r\n  })\r\n\r\n  const currentGroupPrevEnabledOption = computed(() => {\r\n    const options = currentGroup.value.__VISIBLE__.filter(o => !o[disabledProp.value])\r\n    return options[options.map(o => o[valueProp.value]).indexOf(pointer.value[valueProp.value]) - 1]\r\n  })\r\n  \r\n  const currentGroupNextEnabledOption = computed(() => {\r\n    const options = getParentGroup(pointer.value).__VISIBLE__.filter(o => !o[disabledProp.value])\r\n    return options[options.map(o => o[valueProp.value]).indexOf(pointer.value[valueProp.value]) + 1]\r\n  })\r\n\r\n  const prevGroupLastEnabledOption = computed(() => {\r\n    return [...prevGroup.value.__VISIBLE__.filter(o => !o[disabledProp.value])].slice(-1)[0]\r\n  })\r\n\r\n  const lastGroupLastEnabledOption = computed(() => {\r\n    return [...lastGroup.value.__VISIBLE__.filter(o => !o[disabledProp.value])].slice(-1)[0]\r\n  })\r\n\r\n  // =============== METHODS ==============\r\n\r\n  const isPointed = (option) => {\r\n    return (!!pointer.value && (\r\n      (!option.group && pointer.value[valueProp.value] === option[valueProp.value]) ||\r\n      (option.group !== undefined && pointer.value[groupLabel.value] === option[groupLabel.value])\r\n    )) ? true : undefined\r\n  }\r\n\r\n  const setPointerFirst = () => {\r\n    setPointer(options.value[0] || null)\r\n  }\r\n\r\n  const selectPointer = () => {\r\n    if (!pointer.value || pointer.value[disabledProp.value] === true) {\r\n      return\r\n    }\r\n\r\n    if (isPointerGroup.value) {\r\n      handleGroupClick(pointer.value)\r\n    } else {\r\n      handleOptionClick(pointer.value)\r\n    }\r\n  }\r\n\r\n  const forwardPointer = () => {\r\n    if (pointer.value === null) {\r\n      setPointer((groupped.value && canPointGroups.value ? (!groups.value[0].__CREATE__ ? groups.value[0] : options.value[0]) : options.value[0]) || null)\r\n    }\r\n    else if (groupped.value && canPointGroups.value) {\r\n      let nextPointer = isPointerGroup.value ? currentGroupFirstEnabledOption.value : currentGroupNextEnabledOption.value\r\n\r\n      if (nextPointer === undefined) {\r\n        nextPointer = nextGroup.value\r\n\r\n        if (nextPointer.__CREATE__) {\r\n          nextPointer = nextPointer[groupOptions.value][0]\r\n        }\r\n      }\r\n\r\n      setPointer(nextPointer || /* istanbul ignore next */ null)\r\n    } else {\r\n      let next = options.value.map(o => o[valueProp.value]).indexOf(pointer.value[valueProp.value]) + 1\r\n\r\n      if (options.value.length <= next) {\r\n        next = 0\r\n      }\r\n\r\n      setPointer(options.value[next] || null)\r\n    }\r\n\r\n    nextTick(() => {\r\n      adjustWrapperScrollToPointer()\r\n    })\r\n  }\r\n\r\n  const backwardPointer = () => {\r\n    if (pointer.value === null) {\r\n      let prevPointer = options.value[options.value.length - 1]\r\n\r\n      if (groupped.value && canPointGroups.value) {\r\n        prevPointer = lastGroupLastEnabledOption.value\r\n\r\n        if (prevPointer === undefined) {\r\n          prevPointer = lastGroup.value\r\n        }\r\n      }\r\n\r\n      setPointer(prevPointer  || null)\r\n    }\r\n    else if (groupped.value && canPointGroups.value) {\r\n      let prevPointer = isPointerGroup.value ? prevGroupLastEnabledOption.value : currentGroupPrevEnabledOption.value\r\n\r\n      if (prevPointer === undefined) {\r\n        prevPointer = isPointerGroup.value ? prevGroup.value : currentGroup.value\r\n\r\n        if (prevPointer.__CREATE__) {\r\n          prevPointer = prevGroupLastEnabledOption.value\r\n\r\n          if (prevPointer === undefined) {\r\n            prevPointer = prevGroup.value\r\n          }\r\n        }\r\n      }\r\n\r\n      setPointer(prevPointer || /* istanbul ignore next */ null)\r\n    } else {\r\n      let prevIndex = options.value.map(o => o[valueProp.value]).indexOf(pointer.value[valueProp.value]) - 1\r\n\r\n      if (prevIndex < 0) {\r\n        prevIndex = options.value.length - 1\r\n      }\r\n\r\n      setPointer(options.value[prevIndex] || null)\r\n    }\r\n\r\n    nextTick(() => {\r\n      adjustWrapperScrollToPointer()\r\n    })\r\n  }\r\n\r\n  const getParentGroup = (option) => {\r\n    return groups.value.find((group) => {\r\n      return group.__VISIBLE__.map(o => o[valueProp.value]).indexOf(option[valueProp.value]) !== -1\r\n    })\r\n  }\r\n\r\n  // no export\r\n  /* istanbul ignore next */\r\n  const adjustWrapperScrollToPointer = () => {\r\n    let pointedOption = multiselect.value.querySelector(`[data-pointed]`)\r\n\r\n    if (!pointedOption) {\r\n      return\r\n    }\r\n\r\n    let wrapper = pointedOption.parentElement.parentElement\r\n\r\n    if (groupped.value) {\r\n      wrapper = isPointerGroup.value\r\n        ? pointedOption.parentElement.parentElement.parentElement\r\n        : pointedOption.parentElement.parentElement.parentElement.parentElement\r\n    }\r\n\r\n    if (pointedOption.offsetTop + pointedOption.offsetHeight > wrapper.clientHeight + wrapper.scrollTop) {\r\n      wrapper.scrollTop = pointedOption.offsetTop + pointedOption.offsetHeight - wrapper.clientHeight\r\n    }\r\n    \r\n    if (pointedOption.offsetTop < wrapper.scrollTop) {\r\n      wrapper.scrollTop = pointedOption.offsetTop\r\n    }\r\n  }\r\n\r\n  // ============== WATCHERS ==============\r\n\r\n  watch(search, (val) => {\r\n    if (searchable.value) {\r\n      if (val.length && showOptions.value) {\r\n        setPointerFirst()\r\n      } else {\r\n        clearPointer()\r\n      }\r\n    }\r\n  })\r\n\r\n  watch(isOpen, (val) => {\r\n    if (val) {\r\n      let firstSelected = multiselect.value.querySelectorAll(`[data-selected]`)[0]\r\n\r\n      if (!firstSelected) {\r\n        return\r\n      }\r\n\r\n      let wrapper = firstSelected.parentElement.parentElement\r\n      \r\n      nextTick(() => {\r\n        /* istanbul ignore next */\r\n        if (wrapper.scrollTop > 0) {\r\n          return\r\n        }\r\n\r\n        wrapper.scrollTop = firstSelected.offsetTop\r\n      })\r\n    }\r\n  })\r\n\r\n  return {\r\n    pointer,\r\n    canPointGroups,\r\n    isPointed,\r\n    setPointerFirst,\r\n    selectPointer,\r\n    forwardPointer,\r\n    backwardPointer,\r\n  }\r\n}","import { ref, toRefs, getCurrentInstance } from 'vue'\r\n\r\nexport default function useDropdown (props, context, dep)\r\n{\r\n  const { disabled } = toRefs(props)\r\n\r\n  const $this = getCurrentInstance().proxy\r\n\r\n  // ================ DATA ================\r\n\r\n  const isOpen = ref(false)\r\n\r\n  // =============== METHODS ==============\r\n\r\n  const open = () => {\r\n    if (isOpen.value || disabled.value) {\r\n      return\r\n    }\r\n\r\n    isOpen.value = true\r\n    context.emit('open', $this)\r\n  }\r\n\r\n  const close = () => {\r\n    if (!isOpen.value) {\r\n      return\r\n    }\r\n\r\n    isOpen.value = false\r\n    context.emit('close', $this)\r\n  }\r\n\r\n  return {\r\n    isOpen,\r\n    open,\r\n    close,\r\n  }\r\n}","import { ref, toRefs, computed, nextTick } from 'vue'\r\n\r\nexport default function useMultiselect (props, context, dep)\r\n{\r\n  const { searchable, disabled, clearOnBlur } = toRefs(props)\r\n\r\n  // ============ DEPENDENCIES ============\r\n\r\n  const input = dep.input\r\n  const open = dep.open\r\n  const close = dep.close\r\n  const clearSearch = dep.clearSearch\r\n  const isOpen = dep.isOpen\r\n\r\n  // ================ DATA ================\r\n\r\n  const multiselect = ref(null)\r\n  \r\n  const wrapper = ref(null)\r\n\r\n  const tags = ref(null)\r\n\r\n  const isActive = ref(false)\r\n\r\n  const mouseClicked = ref(false)\r\n\r\n  // ============== COMPUTED ==============\r\n\r\n  const tabindex = computed(() => {\r\n    return searchable.value || disabled.value ? -1 : 0\r\n  })\r\n\r\n  // =============== METHODS ==============\r\n\r\n  const blur = () => {\r\n    if (searchable.value) {\r\n      input.value.blur()\r\n    }\r\n\r\n    wrapper.value.blur()\r\n  }\r\n\r\n  const focus = () => {\r\n    if (searchable.value && !disabled.value) {\r\n      input.value.focus()\r\n    }\r\n  }\r\n\r\n  const activate = (shouldOpen = true) => {\r\n    if (disabled.value) {\r\n      return\r\n    }\r\n\r\n    isActive.value = true\r\n\r\n    if (shouldOpen) {\r\n      open()\r\n    }\r\n  }\r\n\r\n  const deactivate = () => {\r\n    isActive.value = false\r\n\r\n    setTimeout(() => {\r\n      if (!isActive.value) {\r\n        close()\r\n\r\n        if (clearOnBlur.value) {\r\n          clearSearch()\r\n        }\r\n      }\r\n    }, 1)\r\n  }\r\n\r\n  const handleFocusIn = (e) => {\r\n    if ((e.target.closest('[data-tags]') && e.target.nodeName !== 'INPUT') || e.target.closest('[data-clear]')) {\r\n      return\r\n    }\r\n\r\n    activate(mouseClicked.value)\r\n  }\r\n\r\n  const handleFocusOut = () => {\r\n    deactivate()\r\n  }\r\n\r\n  const handleCaretClick = () => {\r\n    deactivate()\r\n    blur()\r\n  }\r\n\r\n  /* istanbul ignore next */\r\n  const handleMousedown = (e) => {\r\n    mouseClicked.value = true\r\n\r\n    if (isOpen.value && (e.target.isEqualNode(wrapper.value) || e.target.isEqualNode(tags.value))) {\r\n      setTimeout(() => {\r\n        deactivate()\r\n      }, 0)\r\n    } else if (document.activeElement.isEqualNode(wrapper.value) && !isOpen.value) {\r\n      activate()    \r\n    }\r\n\r\n    setTimeout(() => {\r\n      mouseClicked.value = false\r\n    }, 0)\r\n  }\r\n\r\n  return {\r\n    multiselect,\r\n    wrapper,\r\n    tags,\r\n    tabindex,\r\n    isActive,\r\n    mouseClicked,\r\n    blur,\r\n    focus,\r\n    activate,\r\n    deactivate,\r\n    handleFocusIn,\r\n    handleFocusOut,\r\n    handleCaretClick,\r\n    handleMousedown,\r\n  }\r\n}","import { toRefs, computed, getCurrentInstance } from 'vue'\r\n\r\nexport default function useKeyboard (props, context, dep)\r\n{\r\n  const {\r\n    mode, addTagOn, openDirection, searchable,\r\n    showOptions, valueProp, groups: groupped,\r\n    addOptionOn: addOptionOn_, createTag, createOption: createOption_,\r\n    reverse,\r\n  } = toRefs(props)\r\n\r\n  const $this = getCurrentInstance().proxy\r\n\r\n  // ============ DEPENDENCIES ============\r\n\r\n  const iv = dep.iv\r\n  const update = dep.update\r\n  const search = dep.search\r\n  const setPointer = dep.setPointer\r\n  const selectPointer = dep.selectPointer\r\n  const backwardPointer = dep.backwardPointer\r\n  const forwardPointer = dep.forwardPointer\r\n  const multiselect = dep.multiselect\r\n  const wrapper = dep.wrapper\r\n  const tags = dep.tags\r\n  const isOpen = dep.isOpen\r\n  const open = dep.open\r\n  const blur = dep.blur\r\n  const fo = dep.fo\r\n\r\n  // ============== COMPUTED ==============\r\n\r\n  // no export\r\n  const createOption = computed(() => {\r\n    return createTag.value || createOption_.value || false\r\n  })\r\n\r\n  // no export\r\n  const addOptionOn = computed(() => {\r\n    if (addTagOn.value !== undefined) {\r\n      return addTagOn.value\r\n    }\r\n    else if (addOptionOn_.value !== undefined) {\r\n      return addOptionOn_.value\r\n    }\r\n\r\n    return ['enter']\r\n  })\r\n\r\n  // =============== METHODS ==============\r\n\r\n  // no export\r\n  const preparePointer = () => {\r\n    // When options are hidden and creating tags is allowed\r\n    // no pointer will be set (because options are hidden).\r\n    // In such case we need to set the pointer manually to the \r\n    // first option, which equals to the option created from\r\n    // the search value.\r\n    if (mode.value === 'tags' && !showOptions.value && createOption.value && searchable.value && !groupped.value) {\r\n      setPointer(fo.value[fo.value.map(o => o[valueProp.value]).indexOf(search.value)])\r\n    }\r\n  }\r\n\r\n  const removeLastRemovable = (arr) => {\r\n    // Find the index of the last object in the array that doesn't have a \"remove\" property set to false\r\n    let indexToRemove = arr.length - 1\r\n    while (indexToRemove >= 0 && (arr[indexToRemove].remove === false || arr[indexToRemove].disabled)) {\r\n      indexToRemove--\r\n    }\r\n\r\n    // If all objects have a \"remove\" property set to false, don't remove anything and return the original array\r\n    if (indexToRemove < 0) {\r\n      return arr\r\n    }\r\n\r\n    // Remove the object at the found index and return the updated array\r\n    arr.splice(indexToRemove, 1);\r\n    return arr\r\n  }\r\n\r\n  const handleKeydown = (e) => {\r\n    context.emit('keydown', e, $this)\r\n\r\n    let tagList\r\n    let activeIndex\r\n\r\n    if (['ArrowLeft', 'ArrowRight', 'Enter'].indexOf(e.key) !== -1 && mode.value === 'tags') {\r\n      tagList = [...(multiselect.value.querySelectorAll(`[data-tags] > *`))].filter(e => e !== tags.value)\r\n      activeIndex = tagList.findIndex(e => e === document.activeElement)\r\n    }\r\n\r\n    switch (e.key) {\r\n      case 'Backspace':\r\n        if (mode.value === 'single') {\r\n          return\r\n        }\r\n\r\n        if (searchable.value && [null, ''].indexOf(search.value) === -1) {\r\n          return\r\n        }\r\n\r\n        if (iv.value.length === 0) {\r\n          return\r\n        }\r\n\r\n        update(removeLastRemovable([...iv.value]))\r\n        break\r\n\r\n      case 'Enter':\r\n        e.preventDefault()\r\n\r\n        if (e.keyCode === 229) {\r\n          // ignore IME confirmation\r\n          return\r\n        }\r\n\r\n        if (activeIndex !== -1 && activeIndex !== undefined) {\r\n          update([...iv.value].filter((v, k) => k !== activeIndex))\r\n\r\n          if (activeIndex === tagList.length - 1) {\r\n            if (tagList.length - 1) {\r\n              tagList[tagList.length - 2].focus()\r\n            } else if (searchable.value) {\r\n              tags.value.querySelector('input').focus()\r\n            } else {\r\n              wrapper.value.focus()\r\n            }\r\n          }\r\n          return\r\n        }\r\n\r\n        if (addOptionOn.value.indexOf('enter') === -1 && createOption.value) {\r\n          return\r\n        }\r\n        \r\n        preparePointer()\r\n        selectPointer()\r\n        break\r\n\r\n      case ' ':\r\n        if (!createOption.value && !searchable.value) {\r\n          e.preventDefault()\r\n          \r\n          preparePointer()\r\n          selectPointer()\r\n          return\r\n        }\r\n\r\n        if (!createOption.value) {\r\n          return false\r\n        } \r\n\r\n        if (addOptionOn.value.indexOf('space') === -1 && createOption.value) {\r\n          return\r\n        }\r\n\r\n        e.preventDefault()\r\n        \r\n        preparePointer()\r\n        selectPointer()\r\n        break\r\n      \r\n      case 'Tab':\r\n      case ';':\r\n      case ',':\r\n        if (addOptionOn.value.indexOf(e.key.toLowerCase()) === -1 || !createOption.value) {\r\n          return\r\n        }\r\n\r\n        preparePointer()\r\n        selectPointer()\r\n        e.preventDefault()\r\n        break\r\n\r\n      case 'Escape':\r\n        blur()\r\n        break\r\n\r\n      case 'ArrowUp':\r\n        e.preventDefault()\r\n\r\n        if (!showOptions.value) {\r\n          return\r\n        }\r\n\r\n        /* istanbul ignore else */\r\n        if (!isOpen.value) {\r\n          open()\r\n        }\r\n        \r\n        backwardPointer()\r\n        break\r\n\r\n      case 'ArrowDown':\r\n        e.preventDefault()\r\n\r\n        if (!showOptions.value) {\r\n          return\r\n        }\r\n\r\n        /* istanbul ignore else */\r\n        if (!isOpen.value) {\r\n          open()\r\n        }\r\n\r\n        forwardPointer()\r\n        break\r\n\r\n      case 'ArrowLeft':\r\n        if (\r\n          (searchable.value && tags.value && tags.value.querySelector('input').selectionStart)\r\n          || e.shiftKey || mode.value !== 'tags' || !iv.value || !iv.value.length\r\n        ) {\r\n          return\r\n        }\r\n\r\n        e.preventDefault()\r\n\r\n        if (activeIndex === -1) {\r\n          tagList[tagList.length-1].focus()\r\n        }\r\n        else if (activeIndex > 0) {\r\n          tagList[activeIndex-1].focus()\r\n        }\r\n        break\r\n\r\n      case 'ArrowRight':\r\n        if (activeIndex === -1 || e.shiftKey || mode.value !== 'tags' || !iv.value || !iv.value.length) {\r\n          return\r\n        }\r\n\r\n        e.preventDefault()\r\n        \r\n        /* istanbul ignore else */\r\n        if (tagList.length > activeIndex + 1) {\r\n          tagList[activeIndex+1].focus()\r\n        }\r\n        else if (searchable.value) {\r\n          tags.value.querySelector('input').focus()\r\n        }\r\n        else if (!searchable.value) {\r\n          wrapper.value.focus()\r\n        }\r\n        \r\n        break\r\n    }\r\n  }\r\n\r\n  const handleKeyup = (e) => {\r\n    context.emit('keyup', e, $this)\r\n  }\r\n\r\n  return {\r\n    handleKeydown,\r\n    handleKeyup,\r\n    preparePointer,\r\n  }\r\n}","import { computed, toRefs } from 'vue'\r\n\r\nexport default function useClasses (props, context, dependencies)\r\n{const { \r\n    classes: classes_, disabled, openDirection, showOptions\r\n  } = toRefs(props)\r\n\r\n  // ============ DEPENDENCIES ============\r\n\r\n  const isOpen = dependencies.isOpen\r\n  const isPointed = dependencies.isPointed\r\n  const isSelected = dependencies.isSelected\r\n  const isDisabled = dependencies.isDisabled\r\n  const isActive = dependencies.isActive\r\n  const canPointGroups = dependencies.canPointGroups\r\n  const resolving = dependencies.resolving\r\n  const fo = dependencies.fo\r\n\r\n  const classes = computed(() => ({\r\n    container: 'multiselect',\r\n    containerDisabled: 'is-disabled',\r\n    containerOpen: 'is-open',\r\n    containerOpenTop: 'is-open-top',\r\n    containerActive: 'is-active',\r\n    wrapper: 'multiselect-wrapper',\r\n    singleLabel: 'multiselect-single-label',\r\n    singleLabelText: 'multiselect-single-label-text',\r\n    multipleLabel: 'multiselect-multiple-label',\r\n    search: 'multiselect-search',\r\n    tags: 'multiselect-tags',\r\n    tag: 'multiselect-tag',\r\n    tagDisabled: 'is-disabled',\r\n    tagRemove: 'multiselect-tag-remove',\r\n    tagRemoveIcon: 'multiselect-tag-remove-icon',\r\n    tagsSearchWrapper: 'multiselect-tags-search-wrapper',\r\n    tagsSearch: 'multiselect-tags-search',\r\n    tagsSearchCopy: 'multiselect-tags-search-copy',\r\n    placeholder: 'multiselect-placeholder',\r\n    caret: 'multiselect-caret',\r\n    caretOpen: 'is-open',\r\n    clear: 'multiselect-clear',\r\n    clearIcon: 'multiselect-clear-icon',\r\n    spinner: 'multiselect-spinner',\r\n    inifinite: 'multiselect-inifite',\r\n    inifiniteSpinner: 'multiselect-inifite-spinner',\r\n    dropdown: 'multiselect-dropdown',\r\n    dropdownTop: 'is-top',\r\n    dropdownHidden: 'is-hidden',\r\n    options: 'multiselect-options',\r\n    optionsTop: 'is-top',\r\n    group: 'multiselect-group',\r\n    groupLabel: 'multiselect-group-label',\r\n    groupLabelPointable: 'is-pointable',\r\n    groupLabelPointed: 'is-pointed',\r\n    groupLabelSelected: 'is-selected',\r\n    groupLabelDisabled: 'is-disabled',\r\n    groupLabelSelectedPointed: 'is-selected is-pointed',\r\n    groupLabelSelectedDisabled: 'is-selected is-disabled',\r\n    groupOptions: 'multiselect-group-options',\r\n    option: 'multiselect-option',\r\n    optionPointed: 'is-pointed',\r\n    optionSelected: 'is-selected',\r\n    optionDisabled: 'is-disabled',\r\n    optionSelectedPointed: 'is-selected is-pointed',\r\n    optionSelectedDisabled: 'is-selected is-disabled',\r\n    noOptions: 'multiselect-no-options',\r\n    noResults: 'multiselect-no-results',\r\n    fakeInput: 'multiselect-fake-input',\r\n    assist: 'multiselect-assistive-text',\r\n    spacer: 'multiselect-spacer',\r\n    ...classes_.value,\r\n  }))\r\n\r\n  // ============== COMPUTED ==============\r\n\r\n  const showDropdown = computed(() => {\r\n    return !!(isOpen.value && showOptions.value && (!resolving.value || (resolving.value && fo.value.length)))\r\n  })\r\n\r\n  const classList = computed(() => {\r\n    const c = classes.value\r\n\r\n    return {\r\n      container: [c.container]\r\n        .concat(disabled.value ? c.containerDisabled : [])\r\n        .concat(showDropdown.value && openDirection.value === 'top'  ? c.containerOpenTop : [])\r\n        .concat(showDropdown.value && openDirection.value !== 'top' ? c.containerOpen : [])\r\n        .concat(isActive.value ? c.containerActive : []),\r\n      wrapper: c.wrapper,\r\n      spacer: c.spacer,\r\n      singleLabel: c.singleLabel,\r\n      singleLabelText: c.singleLabelText,\r\n      multipleLabel: c.multipleLabel,\r\n      search: c.search,\r\n      tags: c.tags,\r\n      tag: [c.tag]\r\n        .concat(disabled.value ? c.tagDisabled : []),\r\n      tagDisabled: c.tagDisabled,\r\n      tagRemove: c.tagRemove,\r\n      tagRemoveIcon: c.tagRemoveIcon,\r\n      tagsSearchWrapper: c.tagsSearchWrapper,\r\n      tagsSearch: c.tagsSearch,\r\n      tagsSearchCopy: c.tagsSearchCopy,\r\n      placeholder: c.placeholder,\r\n      caret: [c.caret]\r\n        .concat(isOpen.value ? c.caretOpen : []),\r\n      clear: c.clear,\r\n      clearIcon: c.clearIcon,\r\n      spinner: c.spinner,\r\n      inifinite: c.inifinite,\r\n      inifiniteSpinner: c.inifiniteSpinner,\r\n      dropdown: [c.dropdown]\r\n        .concat(openDirection.value === 'top' ? c.dropdownTop : [])\r\n        .concat(!isOpen.value || !showOptions.value || !showDropdown.value ? c.dropdownHidden : []),\r\n      options: [c.options]\r\n        .concat(openDirection.value === 'top' ? c.optionsTop : []),\r\n      group: c.group,\r\n      groupLabel: (g) => {\r\n        let groupLabel = [c.groupLabel]\r\n\r\n        if (isPointed(g)) {\r\n          groupLabel.push(isSelected(g) ? c.groupLabelSelectedPointed : c.groupLabelPointed)\r\n        } else if (isSelected(g) && canPointGroups.value) {\r\n          groupLabel.push(isDisabled(g) ? c.groupLabelSelectedDisabled : c.groupLabelSelected)\r\n        } else if (isDisabled(g)) {\r\n          groupLabel.push(c.groupLabelDisabled)\r\n        }\r\n\r\n        if (canPointGroups.value) {\r\n          groupLabel.push(c.groupLabelPointable)\r\n        }\r\n\r\n        return groupLabel\r\n      },\r\n      groupOptions: c.groupOptions,\r\n      option: (o, g) => {\r\n        let option = [c.option]\r\n\r\n        if (isPointed(o)) {\r\n          option.push(isSelected(o) ? c.optionSelectedPointed : c.optionPointed)\r\n        } else if (isSelected(o)) {\r\n          option.push(isDisabled(o) ? c.optionSelectedDisabled : c.optionSelected)\r\n        } else if (isDisabled(o) || (g && isDisabled(g))) {\r\n          option.push(c.optionDisabled)\r\n        }\r\n\r\n        return option\r\n      },\r\n      noOptions: c.noOptions,\r\n      noResults: c.noResults,\r\n      assist: c.assist,\r\n      fakeInput: c.fakeInput,\r\n    }\r\n  })\r\n\r\n  return {\r\n    classList,\r\n    showDropdown,\r\n  }\r\n}","import { toRefs, watch, nextTick, onMounted, ref, computed } from 'vue'\r\n\r\nexport default function useScroll (props, context, dep)\r\n{\r\n  const {\r\n    limit, infinite,\r\n  } = toRefs(props)\r\n\r\n  // ============ DEPENDENCIES ============\r\n\r\n  const isOpen = dep.isOpen\r\n  const offset = dep.offset\r\n  const search = dep.search\r\n  const pfo = dep.pfo\r\n  const eo = dep.eo\r\n\r\n  // ================ DATA ================\r\n\r\n  // no export\r\n  const observer = ref(null)\r\n\r\n  const infiniteLoader = ref(null)\r\n\r\n  // ============== COMPUTED ==============\r\n\r\n  const hasMore = computed(() => {\r\n    return offset.value < pfo.value.length\r\n  })\r\n\r\n  // =============== METHODS ==============\r\n\r\n  // no export\r\n  /* istanbul ignore next */\r\n  const handleIntersectionObserver = (entries) => {\r\n    const { isIntersecting, target } = entries[0]\r\n\r\n    if (isIntersecting) {\r\n      const parent = target.offsetParent\r\n      const scrollTop = parent.scrollTop\r\n\r\n      offset.value += limit.value == -1 ? 10 : limit.value\r\n\r\n      nextTick(() => {\r\n        parent.scrollTop = scrollTop\r\n      })\r\n    }\r\n  }\r\n\r\n  const observe = () => {\r\n    /* istanbul ignore else */\r\n    if (isOpen.value && offset.value < pfo.value.length) {\r\n      observer.value.observe(infiniteLoader.value)\r\n    } else if (!isOpen.value && observer.value) {\r\n      observer.value.disconnect()\r\n    }\r\n  }\r\n\r\n  // ============== WATCHERS ==============\r\n\r\n  watch(isOpen, () => {\r\n    if (!infinite.value) {\r\n      return\r\n    }\r\n\r\n    observe()\r\n  })\r\n\r\n  watch(search, () => {\r\n    if (!infinite.value) {\r\n      return\r\n    }\r\n\r\n    offset.value = limit.value\r\n\r\n    observe()\r\n  }, { flush: 'post' })\r\n\r\n  watch(eo, () => {\r\n    if (!infinite.value) {\r\n      return\r\n    }\r\n\r\n    observe()\r\n  }, { immediate: false, flush: 'post' })\r\n\r\n  // ================ HOOKS ===============\r\n\r\n  onMounted(() => {\r\n    /* istanbul ignore else */\r\n    if (window && window.IntersectionObserver) {\r\n      observer.value = new IntersectionObserver(handleIntersectionObserver)\r\n    }\r\n  })\r\n\r\n  return {\r\n    hasMore,\r\n    infiniteLoader,\r\n  }\r\n}","import { toRefs, onMounted, ref, computed } from 'vue'\r\n\r\nexport default function useA11y (props, context, dep)\r\n{\r\n  const {\r\n    placeholder, id, valueProp, label: labelProp, mode, groupLabel, aria, searchable ,\r\n  } = toRefs(props)\r\n\r\n  // ============ DEPENDENCIES ============\r\n\r\n  const pointer = dep.pointer\r\n  const iv = dep.iv\r\n  const hasSelected = dep.hasSelected\r\n  const multipleLabelText = dep.multipleLabelText\r\n\r\n  // ================ DATA ================\r\n\r\n  const label = ref(null)\r\n\r\n  // ============== COMPUTED ==============\r\n\r\n  const ariaAssist = computed(() => {\r\n    let texts = []\r\n\r\n    if (id && id.value) {\r\n      texts.push(id.value)\r\n    }\r\n\r\n    texts.push('assist')\r\n\r\n    return texts.join('-')\r\n  })\r\n\r\n  const ariaControls = computed(() => {\r\n    let texts = []\r\n\r\n    if (id && id.value) {\r\n      texts.push(id.value)\r\n    }\r\n\r\n    texts.push('multiselect-options')\r\n\r\n    return texts.join('-')\r\n  })\r\n\r\n  const ariaActiveDescendant = computed(() => {\r\n    let texts = []\r\n\r\n    if (id && id.value) {\r\n      texts.push(id.value)\r\n    }\r\n\r\n    if (pointer.value) {\r\n      texts.push(pointer.value.group ? 'multiselect-group' : 'multiselect-option')\r\n\r\n      texts.push(pointer.value.group ? pointer.value.index : pointer.value[valueProp.value])\r\n\r\n      return texts.join('-')\r\n    }\r\n  })\r\n\r\n\r\n\r\n  const ariaPlaceholder = computed(() => {\r\n    return placeholder.value\r\n  })\r\n\r\n  const ariaMultiselectable = computed(() => {\r\n    return mode.value !== 'single'\r\n  })\r\n\r\n  const ariaLabel = computed(() => {\r\n    let ariaLabel = ''\r\n\r\n    if (mode.value === 'single' && hasSelected.value) {\r\n      ariaLabel += iv.value[labelProp.value]\r\n    }\r\n\r\n    if (mode.value === 'multiple' && hasSelected.value) {\r\n      ariaLabel += multipleLabelText.value\r\n    }\r\n\r\n    if (mode.value === 'tags' && hasSelected.value) {\r\n      ariaLabel += iv.value.map(v => v[labelProp.value]).join(', ')\r\n    }\r\n\r\n    return ariaLabel\r\n  })\r\n\r\n  const arias = computed(() => {\r\n    let arias = { ...aria.value }\r\n    \r\n    // Need to add manually because focusing\r\n    // the input won't read the selected value\r\n    if (searchable.value) {\r\n      arias['aria-labelledby'] = arias['aria-labelledby']\r\n        ? `${ariaAssist.value} ${arias['aria-labelledby']}`\r\n        : ariaAssist.value\r\n      \r\n      if (ariaLabel.value && arias['aria-label']) {\r\n        arias['aria-label'] = `${ariaLabel.value}, ${arias['aria-label']}`\r\n      }\r\n    }\r\n\r\n    return arias\r\n  })\r\n\r\n  // =============== METHODS ==============\r\n\r\n  const ariaOptionId = (option) => {\r\n    let texts = []\r\n\r\n    if (id && id.value) {\r\n      texts.push(id.value)\r\n    }\r\n\r\n    texts.push('multiselect-option')\r\n\r\n    texts.push(option[valueProp.value])\r\n\r\n    return texts.join('-')\r\n  }\r\n\r\n  const ariaGroupId = (option) => {\r\n    let texts = []\r\n\r\n    if (id && id.value) {\r\n      texts.push(id.value)\r\n    }\r\n\r\n    texts.push('multiselect-group')\r\n\r\n    texts.push(option.index)\r\n\r\n    return texts.join('-')\r\n  }\r\n\r\n  const ariaOptionLabel = (label) => {\r\n    let texts = []\r\n\r\n    texts.push(label)\r\n\r\n    return texts.join(' ')\r\n  }\r\n\r\n  const ariaGroupLabel = (label) => {\r\n    let texts = []\r\n\r\n    texts.push(label)\r\n\r\n    return texts.join(' ')\r\n  }\r\n\r\n  const ariaTagLabel = (label) => {\r\n    return `${label} ❎`\r\n  }\r\n\r\n  // =============== HOOKS ================\r\n\r\n  onMounted(() => {\r\n    /* istanbul ignore next */\r\n    if (id && id.value && document && document.querySelector) {\r\n      let forTag = document.querySelector(`[for=\"${id.value}\"]`)\r\n      label.value = forTag ? forTag.innerText : null\r\n    }\r\n  })\r\n\r\n  return {\r\n    arias,\r\n    ariaLabel,\r\n    ariaAssist,\r\n    ariaControls,\r\n    ariaPlaceholder,\r\n    ariaMultiselectable,\r\n    ariaActiveDescendant,\r\n    ariaOptionId,\r\n    ariaOptionLabel,\r\n    ariaGroupId,\r\n    ariaGroupLabel,\r\n    ariaTagLabel,\r\n  }\r\n}","import { toRefs } from 'vue'\r\n\r\nexport default function useI18n (props, context, dep)\r\n{\r\n  const {\r\n    locale, fallbackLocale,\r\n  } = toRefs(props)\r\n\r\n  // =============== METHODS ==============\r\n\r\n  const localize = (target) => {\r\n    if (!target || typeof target !== 'object') {\r\n      return target\r\n    }\r\n\r\n    if (target && target[locale.value]) {\r\n      return target[locale.value]\r\n    } else if (target && locale.value && target[locale.value.toUpperCase()]) {\r\n      return target[locale.value.toUpperCase()]\r\n    } else if (target && target[fallbackLocale.value]) {\r\n      return target[fallbackLocale.value]\r\n    } else if (target && fallbackLocale.value && target[fallbackLocale.value.toUpperCase()]) {\r\n      return target[fallbackLocale.value.toUpperCase()]\r\n    } else if (target && Object.keys(target)[0]) {\r\n      return target[Object.keys(target)[0]]\r\n    } else {\r\n      return ''\r\n    }\r\n  }\r\n\r\n  return {\r\n    localize,\r\n  }\r\n}","<template>\r\n  <div\r\n    ref=\"multiselect\"\r\n    :class=\"classList.container\"\r\n    :id=\"searchable ? undefined : id\"\r\n    :dir=\"rtl ? 'rtl' : undefined\"\r\n    @focusin=\"handleFocusIn\"\r\n    @focusout=\"handleFocusOut\"\r\n    @keyup=\"handleKeyup\"\r\n    @keydown=\"handleKeydown\"\r\n  >\r\n    <div\r\n      :class=\"classList.wrapper\"\r\n      @mousedown=\"handleMousedown\"\r\n      ref=\"wrapper\"\r\n\r\n      :tabindex=\"tabindex\"\r\n      :aria-controls=\"!searchable ? ariaControls : undefined\"\r\n      :aria-placeholder=\"!searchable ? ariaPlaceholder : undefined\"\r\n      :aria-expanded=\"!searchable ? isOpen : undefined\"\r\n      :aria-activedescendant=\"!searchable ? ariaActiveDescendant : undefined\"\r\n      :aria-multiselectable=\"!searchable ? ariaMultiselectable : undefined\"\r\n      :role=\"!searchable ? 'combobox' : undefined\"\r\n      v-bind=\"!searchable ? arias : {}\"\r\n    >\r\n      <!-- Search -->\r\n      <template v-if=\"mode !== 'tags' && searchable && !disabled\">\r\n        <input\r\n          :type=\"inputType\"\r\n          :modelValue=\"search\"\r\n          :value=\"search\"\r\n          :class=\"classList.search\"\r\n          :autocomplete=\"autocomplete\"\r\n          :id=\"searchable ? id : undefined\"\r\n          @input=\"handleSearchInput\"\r\n          @keypress=\"handleKeypress\"\r\n          @paste.stop=\"handlePaste\"\r\n          ref=\"input\"\r\n\r\n          :aria-controls=\"ariaControls\"\r\n          :aria-placeholder=\"ariaPlaceholder\"\r\n          :aria-expanded=\"isOpen\"\r\n          :aria-activedescendant=\"ariaActiveDescendant\"\r\n          :aria-multiselectable=\"ariaMultiselectable\"\r\n          role=\"combobox\"\r\n\r\n          v-bind=\"{\r\n            ...attrs,\r\n            ...arias,\r\n          }\"\r\n        />\r\n      </template>\r\n\r\n      <!-- Tags (with search) -->\r\n      <template v-if=\"mode == 'tags'\">\r\n        <div :class=\"classList.tags\" data-tags>\r\n          <slot\r\n            v-for=\"(option, i, key) in iv\"\r\n            name=\"tag\"\r\n            :option=\"option\"\r\n            :handleTagRemove=\"handleTagRemove\"\r\n            :disabled=\"disabled\"\r\n          >\r\n            <span\r\n              :class=\"[\r\n                classList.tag,\r\n                option.disabled ? classList.tagDisabled : null,\r\n              ]\"\r\n              tabindex=\"-1\"\r\n              @keyup.enter=\"handleTagRemove(option, $event)\"\r\n              :key=\"key\"\r\n\r\n              :aria-label=\"ariaTagLabel(localize(option[label]))\"\r\n            >\r\n              {{ localize(option[label]) }}\r\n              <span\r\n                v-if=\"!disabled && !option.disabled\"\r\n                :class=\"classList.tagRemove\"\r\n                @click.stop=\"handleTagRemove(option, $event)\"\r\n              >\r\n                <span :class=\"classList.tagRemoveIcon\"></span>\r\n              </span>\r\n            </span>\r\n          </slot>\r\n      \r\n          <div :class=\"classList.tagsSearchWrapper\" ref=\"tags\">\r\n            <!-- Used for measuring search width -->\r\n            <span :class=\"classList.tagsSearchCopy\">{{ search }}</span>\r\n\r\n            <!-- Actual search input -->\r\n            <input    \r\n              v-if=\"searchable && !disabled\"\r\n              :type=\"inputType\"\r\n              :modelValue=\"search\"\r\n              :value=\"search\"\r\n              :class=\"classList.tagsSearch\"\r\n              :id=\"searchable ? id : undefined\"\r\n              :autocomplete=\"autocomplete\"\r\n              @input=\"handleSearchInput\"\r\n              @keypress=\"handleKeypress\"\r\n              @paste.stop=\"handlePaste\"\r\n              ref=\"input\"\r\n              \r\n              :aria-controls=\"ariaControls\"\r\n              :aria-placeholder=\"ariaPlaceholder\"\r\n              :aria-expanded=\"isOpen\"\r\n              :aria-activedescendant=\"ariaActiveDescendant\"\r\n              :aria-multiselectable=\"ariaMultiselectable\"\r\n              role=\"combobox\"\r\n\r\n              v-bind=\"{\r\n                ...attrs,\r\n                ...arias,\r\n              }\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </template>\r\n\r\n      <!-- Single label -->\r\n      <template v-if=\"mode == 'single' && hasSelected && !search && iv\">\r\n        <slot name=\"singlelabel\" :value=\"iv\">\r\n          <div :class=\"classList.singleLabel\">\r\n            <span :class=\"classList.singleLabelText\">{{ localize(iv[label]) }}</span>\r\n          </div>\r\n        </slot>\r\n      </template>\r\n\r\n      <!-- Multiple label -->\r\n      <template v-if=\"mode == 'multiple' && hasSelected && !search\">\r\n        <slot name=\"multiplelabel\" :values=\"iv\">\r\n          <div :class=\"classList.multipleLabel\" v-html=\"multipleLabelText\"></div>\r\n        </slot>\r\n      </template>\r\n\r\n      <!-- Placeholder -->\r\n      <template v-if=\"placeholder && !hasSelected && !search\">\r\n        <slot name=\"placeholder\">\r\n          <div :class=\"classList.placeholder\" aria-hidden=\"true\">\r\n            {{ placeholder }}\r\n          </div>\r\n        </slot>\r\n      </template>\r\n\r\n      <!-- Spinner -->\r\n      <slot v-if=\"loading || resolving\" name=\"spinner\">\r\n        <span :class=\"classList.spinner\" aria-hidden=\"true\"></span>\r\n      </slot>\r\n\r\n      <!-- Clear -->\r\n      <slot v-if=\"hasSelected && !disabled && canClear && !busy\" name=\"clear\" :clear=\"clear\">\r\n        <span\r\n          tabindex=\"0\"\r\n          role=\"button\"\r\n          data-clear\r\n          aria-roledescription=\"❎\"\r\n          :aria-label=\"localize(clearText)\"\r\n          :class=\"classList.clear\"\r\n          @click=\"clear\"\r\n          @keyup.enter=\"clear\"\r\n        ><span :class=\"classList.clearIcon\" aria-hidden=\"true\"></span></span>\r\n      </slot>\r\n\r\n      <!-- Caret -->\r\n      <slot v-if=\"caret && showOptions\" name=\"caret\">\r\n        <span :class=\"classList.caret\" @click=\"handleCaretClick\" aria-hidden=\"true\"></span>\r\n      </slot>\r\n    </div>\r\n\r\n    <!-- Options -->\r\n    <div\r\n      :class=\"classList.dropdown\"\r\n      tabindex=\"-1\"\r\n    >\r\n      <slot name=\"beforelist\" :options=\"fo\"></slot>\r\n\r\n      <ul :class=\"classList.options\" :id=\"ariaControls\" role=\"listbox\">\r\n        <template v-if=\"groups\">\r\n          <li\r\n            v-for=\"(group, i, key) in fg\"\r\n            :class=\"classList.group\"\r\n            :key=\"key\"\r\n\r\n            :id=\"ariaGroupId(group)\"\r\n            :aria-label=\"ariaGroupLabel(localize(group[groupLabel]))\"\r\n            :aria-selected=\"isSelected(group)\"\r\n            role=\"option\"\r\n          >\r\n            <div\r\n              v-if=\"!group.__CREATE__\"\r\n              :class=\"classList.groupLabel(group)\"\r\n              :data-pointed=\"isPointed(group)\"\r\n              @mouseenter=\"setPointer(group, i)\"\r\n              @click=\"handleGroupClick(group)\"\r\n            >\r\n              <slot name=\"grouplabel\" :group=\"group\" :is-selected=\"isSelected\" :is-pointed=\"isPointed\">\r\n                <span v-html=\"localize(group[groupLabel])\"></span>\r\n              </slot>\r\n            </div>\r\n\r\n            <ul\r\n              :class=\"classList.groupOptions\"\r\n              \r\n              :aria-label=\"ariaGroupLabel(localize(group[groupLabel]))\"\r\n              role=\"group\"\r\n            >\r\n              <li\r\n                v-for=\"(option, i, key) in group.__VISIBLE__\"\r\n                :class=\"classList.option(option, group)\"\r\n                :data-pointed=\"isPointed(option)\"\r\n                :data-selected=\"isSelected(option) || undefined\"\r\n                :key=\"key\"\r\n                @mouseenter=\"setPointer(option)\"\r\n                @click=\"handleOptionClick(option)\"\r\n\r\n                :id=\"ariaOptionId(option)\"\r\n                :aria-selected=\"isSelected(option)\"\r\n                :aria-label=\"ariaOptionLabel(localize(option[label]))\"\r\n                role=\"option\"\r\n              >\r\n                <slot name=\"option\" :option=\"option\" :is-selected=\"isSelected\" :is-pointed=\"isPointed\" :search=\"search\">\r\n                  <span>{{ localize(option[label]) }}</span>\r\n                </slot>\r\n              </li>\r\n            </ul>\r\n          </li>\r\n        </template>\r\n        <template v-else>\r\n          <li\r\n            v-for=\"(option, i, key) in fo\"\r\n            :class=\"classList.option(option)\"\r\n            :data-pointed=\"isPointed(option)\"\r\n            :data-selected=\"isSelected(option) || undefined\"\r\n            :key=\"key\"\r\n            @mouseenter=\"setPointer(option)\"\r\n            @click=\"handleOptionClick(option)\"\r\n\r\n            :id=\"ariaOptionId(option)\"\r\n            :aria-selected=\"isSelected(option)\"\r\n            :aria-label=\"ariaOptionLabel(localize(option[label]))\"\r\n            role=\"option\"\r\n          >\r\n            <slot name=\"option\" :option=\"option\" :isSelected=\"isSelected\" :is-pointed=\"isPointed\" :search=\"search\">\r\n              <span>{{ localize(option[label]) }}</span>\r\n            </slot>\r\n          </li>\r\n        </template>\r\n      </ul>\r\n\r\n      <slot name=\"nooptions\">\r\n        <div :class=\"classList.noOptions\" v-html=\"noOptions ? localize(noOptionsText) : ''\" aria-live=\"polite\" role=\"status\" aria-atomic=\"true\"></div>\r\n      </slot>\r\n\r\n      <slot name=\"noresults\">\r\n        <div :class=\"classList.noResults\" v-html=\"noResults ? localize(noResultsText) : ''\" aria-live=\"polite\" role=\"status\" aria-atomic=\"true\"></div>\r\n      </slot>\r\n\r\n      <div v-if=\"infinite && hasMore\" :class=\"classList.inifinite\" ref=\"infiniteLoader\">\r\n        <slot name=\"infinite\">\r\n          <span :class=\"classList.inifiniteSpinner\"></span>\r\n        </slot>\r\n      </div>\r\n\r\n      <slot name=\"afterlist\" :options=\"fo\"></slot>\r\n    </div>\r\n\r\n    <!-- Hacky input element to show HTML5 required warning -->\r\n    <input v-if=\"required\" :class=\"classList.fakeInput\" tabindex=\"-1\" :value=\"textValue\" required/>\r\n    \r\n    <!-- Native input support -->\r\n    <template v-if=\"nativeSupport && wcagSupport === false\">\r\n      <input v-if=\"mode == 'single'\" type=\"hidden\" :name=\"name\" :value=\"plainValue !== undefined ? plainValue : ''\" />\r\n      <template v-else>\r\n        <input v-for=\"(v, i) in plainValue\" type=\"hidden\" :name=\"`${name}[]`\" :value=\"v\" :key=\"i\" />\r\n      </template>\r\n    </template>\r\n\r\n    <template v-if=\"wcagSupport && nativeSupport === false\">\r\n      <input v-if=\"mode == 'single'\" type=\"hidden\" :name=\"name\" :value=\"localize(iv[label]) !== undefined ? localize(iv[label]) : ''\" />\r\n      <template v-else>\r\n        <input type=\"hidden\" :name=\"`${name}[]`\" :value=\"multipleLabelText\" />\r\n      </template>\r\n    </template>\r\n\r\n    <!-- Screen reader assistive text -->\r\n    <div v-if=\"searchable && hasSelected\" :class=\"classList.assist\" :id=\"ariaAssist\" aria-hidden=\"true\">\r\n      {{ ariaLabel }}\r\n    </div>\r\n\r\n    <!-- Create height for empty input -->\r\n    <div :class=\"classList.spacer\"></div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  /* istanbul ignore file */\r\n\r\n  import useData from './composables/useData'\r\n  import useValue from './composables/useValue'\r\n  import useSearch from './composables/useSearch'\r\n  import usePointer from './composables/usePointer'\r\n  import useOptions from './composables/useOptions'\r\n  import usePointerAction from './composables/usePointerAction'\r\n  import useDropdown from './composables/useDropdown'\r\n  import useMultiselect from './composables/useMultiselect'\r\n  import useKeyboard from './composables/useKeyboard' \r\n  import useClasses from './composables/useClasses' \r\n  import useScroll from './composables/useScroll' \r\n  import useA11y from './composables/useA11y' \r\n  import useI18n from './composables/useI18n'\r\n\r\n  import resolveDeps from './utils/resolveDeps'\r\n\r\n  export default {\r\n    name: 'Multiselect',\r\n    emits: [\r\n      'paste', 'open', 'close', 'select', 'deselect', \r\n      'input', 'search-change', 'tag', 'option', 'update:modelValue',\r\n      'change', 'clear', 'keydown', 'keyup', 'max', 'create',\r\n    ],\r\n    props: {\r\n      value: {\r\n        required: false,\r\n      },\r\n      modelValue: {\r\n        required: false,\r\n      },\r\n      options: {\r\n        type: [Array, Object, Function],\r\n        required: false,\r\n        default: () => ([])\r\n      },\r\n      id: {\r\n        type: [String, Number],\r\n        required: false,\r\n      },\r\n      name: {\r\n        type: [String, Number],\r\n        required: false,\r\n        default: 'multiselect',\r\n      },\r\n      disabled: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: false,\r\n      },\r\n      label: {\r\n        type: String,\r\n        required: false,\r\n        default: 'label',\r\n      },\r\n      trackBy: {\r\n        type: String,\r\n        required: false,\r\n        default: undefined,\r\n      },\r\n      valueProp: {\r\n        type: String,\r\n        required: false,\r\n        default: 'value',\r\n      },\r\n      placeholder: {\r\n        type: String,\r\n        required: false,\r\n        default: null,\r\n      },\r\n      mode: {\r\n        type: String,\r\n        required: false,\r\n        default: 'single', // single|multiple|tags\r\n      },\r\n      searchable: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: false,\r\n      },\r\n      limit: {\r\n        type: Number,\r\n        required: false,\r\n        default: -1,\r\n      },\r\n      hideSelected: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: true,\r\n      },\r\n      createTag: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: undefined,\r\n      },\r\n      createOption: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: undefined,\r\n      },\r\n      appendNewTag: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: undefined,\r\n      },\r\n      appendNewOption: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: undefined,\r\n      },\r\n      addTagOn: {\r\n        type: Array,\r\n        required: false,\r\n        default: undefined,\r\n      },\r\n      addOptionOn: {\r\n        type: Array,\r\n        required: false,\r\n        default: undefined,\r\n      },\r\n      caret: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: true,\r\n      },\r\n      loading: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: false,\r\n      },\r\n      noOptionsText: {\r\n        type: [String, Object],\r\n        required: false,\r\n        default: 'The list is empty',\r\n      },\r\n      noResultsText: {\r\n        type: [String, Object],\r\n        required: false,\r\n        default: 'No results found',\r\n      },\r\n      clearText: {\r\n        type: [String, Object],\r\n        required: false,\r\n        default: 'Clear',\r\n      },\r\n      multipleLabel: {\r\n        type: Function,\r\n        required: false,\r\n      },\r\n      object: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: false,\r\n      },\r\n      delay: {\r\n        type: Number,\r\n        required: false,\r\n        default: -1,\r\n      },\r\n      minChars: {\r\n        type: Number,\r\n        required: false,\r\n        default: 0,\r\n      },\r\n      resolveOnLoad: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: true,\r\n      },\r\n      filterResults: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: true,\r\n      },\r\n      clearOnSearch: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: false,\r\n      },\r\n      clearOnSelect: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: true,\r\n      },\r\n      canDeselect: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: true,\r\n      },\r\n      canClear: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: true,\r\n      },\r\n      max: {\r\n        type: Number,\r\n        required: false,\r\n        default: -1,\r\n      },\r\n      showOptions: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: true,\r\n      },\r\n      required: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: false,\r\n      },\r\n      openDirection: {\r\n        type: String,\r\n        required: false,\r\n        default: 'bottom',\r\n      },\r\n      nativeSupport: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: false,\r\n      },\r\n      wcagSupport: {\r\n        type: Boolean,\r\n        required: true,\r\n        default: false,\r\n      },\r\n      classes: {\r\n        type: Object,\r\n        required: false,\r\n        default: () => ({})\r\n      },\r\n      strict: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: true,\r\n      },\r\n      closeOnSelect: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: true,\r\n      },\r\n      closeOnDeselect: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: false,\r\n      },\r\n      autocomplete: {\r\n        type: String,\r\n        required: false,\r\n      },\r\n      groups: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: false,\r\n      },\r\n      groupLabel: {\r\n        type: String,\r\n        required: false,\r\n        default: 'label',\r\n      },\r\n      groupOptions: {\r\n        type: String,\r\n        required: false,\r\n        default: 'options',\r\n      },\r\n      groupHideEmpty: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: false,\r\n      },\r\n      groupSelect: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: true,\r\n      },\r\n      inputType: {\r\n        type: String,\r\n        required: false,\r\n        default: 'text',\r\n      },\r\n      attrs: {\r\n        required: false,\r\n        type: Object,\r\n        default: () => ({}),\r\n      },\r\n      onCreate: {\r\n        required: false,\r\n        type: Function,\r\n      },\r\n      disabledProp: {\r\n        type: String,\r\n        required: false,\r\n        default: 'disabled',\r\n      },\r\n      searchStart: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: false,\r\n      },\r\n      reverse: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: false,\r\n      },\r\n      regex: {\r\n        type: [Object, String, RegExp],\r\n        required: false,\r\n        default: undefined,\r\n      },\r\n      rtl: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: false,\r\n      },\r\n      infinite: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: false,\r\n      },\r\n      aria: {\r\n        required: false,\r\n        type: Object,\r\n        default: () => ({}),\r\n      },\r\n      clearOnBlur: {\r\n        required: false,\r\n        type: Boolean,\r\n        default: true,\r\n      },\r\n      locale: {\r\n        required: false,\r\n        type: String,\r\n        default: null,\r\n      },\r\n      fallbackLocale: {\r\n        required: false,\r\n        type: String,\r\n        default: 'en',\r\n      },\r\n      searchFilter: {\r\n        required: false,\r\n        type: Function,\r\n        default: null,\r\n      },\r\n      allowAbsent: {\r\n        required: false,\r\n        type: Boolean,\r\n        default: false,\r\n      },\r\n    },\r\n    setup(props, context)\r\n    { \r\n      return resolveDeps(props, context, [\r\n        useI18n,\r\n        useValue,\r\n        usePointer,\r\n        useDropdown,\r\n        useSearch,\r\n        useData,\r\n        useMultiselect,\r\n        useOptions,\r\n        useScroll,\r\n        usePointerAction,\r\n        useKeyboard,\r\n        useClasses,\r\n        useA11y,\r\n      ])\r\n    }\r\n  }\r\n</script>","export default function (props, context, features, deps = {}) {\r\n  features.forEach((composable) => {\r\n    /* istanbul ignore else */\r\n    if (composable) {\r\n      deps = {\r\n        ...deps,\r\n        ...composable(props, context, deps)\r\n      }\r\n    }\r\n\r\n  })\r\n  \r\n  return deps\r\n}","<template>\r\n  <div\r\n    ref=\"multiselect\"\r\n    :class=\"classList.container\"\r\n    :id=\"searchable ? undefined : id\"\r\n    :dir=\"rtl ? 'rtl' : undefined\"\r\n    @focusin=\"handleFocusIn\"\r\n    @focusout=\"handleFocusOut\"\r\n    @keyup=\"handleKeyup\"\r\n    @keydown=\"handleKeydown\"\r\n  >\r\n    <div\r\n      :class=\"classList.wrapper\"\r\n      @mousedown=\"handleMousedown\"\r\n      ref=\"wrapper\"\r\n\r\n      :tabindex=\"tabindex\"\r\n      :aria-controls=\"!searchable ? ariaControls : undefined\"\r\n      :aria-placeholder=\"!searchable ? ariaPlaceholder : undefined\"\r\n      :aria-expanded=\"!searchable ? isOpen : undefined\"\r\n      :aria-activedescendant=\"!searchable ? ariaActiveDescendant : undefined\"\r\n      :aria-multiselectable=\"!searchable ? ariaMultiselectable : undefined\"\r\n      :role=\"!searchable ? 'combobox' : undefined\"\r\n      v-bind=\"!searchable ? arias : {}\"\r\n    >\r\n      <!-- Search -->\r\n      <template v-if=\"mode !== 'tags' && searchable && !disabled\">\r\n        <input\r\n          :type=\"inputType\"\r\n          :modelValue=\"search\"\r\n          :value=\"search\"\r\n          :class=\"classList.search\"\r\n          :autocomplete=\"autocomplete\"\r\n          :id=\"searchable ? id : undefined\"\r\n          @input=\"handleSearchInput\"\r\n          @keypress=\"handleKeypress\"\r\n          @paste.stop=\"handlePaste\"\r\n          ref=\"input\"\r\n\r\n          :aria-controls=\"ariaControls\"\r\n          :aria-placeholder=\"ariaPlaceholder\"\r\n          :aria-expanded=\"isOpen\"\r\n          :aria-activedescendant=\"ariaActiveDescendant\"\r\n          :aria-multiselectable=\"ariaMultiselectable\"\r\n          role=\"combobox\"\r\n\r\n          v-bind=\"{\r\n            ...attrs,\r\n            ...arias,\r\n          }\"\r\n        />\r\n      </template>\r\n\r\n      <!-- Tags (with search) -->\r\n      <template v-if=\"mode == 'tags'\">\r\n        <div :class=\"classList.tags\" data-tags>\r\n          <slot\r\n            v-for=\"(option, i, key) in iv\"\r\n            name=\"tag\"\r\n            :option=\"option\"\r\n            :handleTagRemove=\"handleTagRemove\"\r\n            :disabled=\"disabled\"\r\n          >\r\n            <span\r\n              :class=\"[\r\n                classList.tag,\r\n                option.disabled ? classList.tagDisabled : null,\r\n              ]\"\r\n              tabindex=\"-1\"\r\n              @keyup.enter=\"handleTagRemove(option, $event)\"\r\n              :key=\"key\"\r\n\r\n              :aria-label=\"ariaTagLabel(localize(option[label]))\"\r\n            >\r\n              {{ localize(option[label]) }}\r\n              <span\r\n                v-if=\"!disabled && !option.disabled\"\r\n                :class=\"classList.tagRemove\"\r\n                @click.stop=\"handleTagRemove(option, $event)\"\r\n              >\r\n                <span :class=\"classList.tagRemoveIcon\"></span>\r\n              </span>\r\n            </span>\r\n          </slot>\r\n      \r\n          <div :class=\"classList.tagsSearchWrapper\" ref=\"tags\">\r\n            <!-- Used for measuring search width -->\r\n            <span :class=\"classList.tagsSearchCopy\">{{ search }}</span>\r\n\r\n            <!-- Actual search input -->\r\n            <input    \r\n              v-if=\"searchable && !disabled\"\r\n              :type=\"inputType\"\r\n              :modelValue=\"search\"\r\n              :value=\"search\"\r\n              :class=\"classList.tagsSearch\"\r\n              :id=\"searchable ? id : undefined\"\r\n              :autocomplete=\"autocomplete\"\r\n              @input=\"handleSearchInput\"\r\n              @keypress=\"handleKeypress\"\r\n              @paste.stop=\"handlePaste\"\r\n              ref=\"input\"\r\n              \r\n              :aria-controls=\"ariaControls\"\r\n              :aria-placeholder=\"ariaPlaceholder\"\r\n              :aria-expanded=\"isOpen\"\r\n              :aria-activedescendant=\"ariaActiveDescendant\"\r\n              :aria-multiselectable=\"ariaMultiselectable\"\r\n              role=\"combobox\"\r\n\r\n              v-bind=\"{\r\n                ...attrs,\r\n                ...arias,\r\n              }\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </template>\r\n\r\n      <!-- Single label -->\r\n      <template v-if=\"mode == 'single' && hasSelected && !search && iv\">\r\n        <slot name=\"singlelabel\" :value=\"iv\">\r\n          <div :class=\"classList.singleLabel\">\r\n            <span :class=\"classList.singleLabelText\">{{ localize(iv[label]) }}</span>\r\n          </div>\r\n        </slot>\r\n      </template>\r\n\r\n      <!-- Multiple label -->\r\n      <template v-if=\"mode == 'multiple' && hasSelected && !search\">\r\n        <slot name=\"multiplelabel\" :values=\"iv\">\r\n          <div :class=\"classList.multipleLabel\" v-html=\"multipleLabelText\"></div>\r\n        </slot>\r\n      </template>\r\n\r\n      <!-- Placeholder -->\r\n      <template v-if=\"placeholder && !hasSelected && !search\">\r\n        <slot name=\"placeholder\">\r\n          <div :class=\"classList.placeholder\" aria-hidden=\"true\">\r\n            {{ placeholder }}\r\n          </div>\r\n        </slot>\r\n      </template>\r\n\r\n      <!-- Spinner -->\r\n      <slot v-if=\"loading || resolving\" name=\"spinner\">\r\n        <span :class=\"classList.spinner\" aria-hidden=\"true\"></span>\r\n      </slot>\r\n\r\n      <!-- Clear -->\r\n      <slot v-if=\"hasSelected && !disabled && canClear && !busy\" name=\"clear\" :clear=\"clear\">\r\n        <span\r\n          tabindex=\"0\"\r\n          role=\"button\"\r\n          data-clear\r\n          aria-roledescription=\"❎\"\r\n          :aria-label=\"localize(clearText)\"\r\n          :class=\"classList.clear\"\r\n          @click=\"clear\"\r\n          @keyup.enter=\"clear\"\r\n        ><span :class=\"classList.clearIcon\" aria-hidden=\"true\"></span></span>\r\n      </slot>\r\n\r\n      <!-- Caret -->\r\n      <slot v-if=\"caret && showOptions\" name=\"caret\">\r\n        <span :class=\"classList.caret\" @click=\"handleCaretClick\" aria-hidden=\"true\"></span>\r\n      </slot>\r\n    </div>\r\n\r\n    <!-- Options -->\r\n    <div\r\n      :class=\"classList.dropdown\"\r\n      tabindex=\"-1\"\r\n    >\r\n      <slot name=\"beforelist\" :options=\"fo\"></slot>\r\n\r\n      <ul :class=\"classList.options\" :id=\"ariaControls\" role=\"listbox\">\r\n        <template v-if=\"groups\">\r\n          <li\r\n            v-for=\"(group, i, key) in fg\"\r\n            :class=\"classList.group\"\r\n            :key=\"key\"\r\n\r\n            :id=\"ariaGroupId(group)\"\r\n            :aria-label=\"ariaGroupLabel(localize(group[groupLabel]))\"\r\n            :aria-selected=\"isSelected(group)\"\r\n            role=\"option\"\r\n          >\r\n            <div\r\n              v-if=\"!group.__CREATE__\"\r\n              :class=\"classList.groupLabel(group)\"\r\n              :data-pointed=\"isPointed(group)\"\r\n              @mouseenter=\"setPointer(group, i)\"\r\n              @click=\"handleGroupClick(group)\"\r\n            >\r\n              <slot name=\"grouplabel\" :group=\"group\" :is-selected=\"isSelected\" :is-pointed=\"isPointed\">\r\n                <span v-html=\"localize(group[groupLabel])\"></span>\r\n              </slot>\r\n            </div>\r\n\r\n            <ul\r\n              :class=\"classList.groupOptions\"\r\n              \r\n              :aria-label=\"ariaGroupLabel(localize(group[groupLabel]))\"\r\n              role=\"group\"\r\n            >\r\n              <li\r\n                v-for=\"(option, i, key) in group.__VISIBLE__\"\r\n                :class=\"classList.option(option, group)\"\r\n                :data-pointed=\"isPointed(option)\"\r\n                :data-selected=\"isSelected(option) || undefined\"\r\n                :key=\"key\"\r\n                @mouseenter=\"setPointer(option)\"\r\n                @click=\"handleOptionClick(option)\"\r\n\r\n                :id=\"ariaOptionId(option)\"\r\n                :aria-selected=\"isSelected(option)\"\r\n                :aria-label=\"ariaOptionLabel(localize(option[label]))\"\r\n                role=\"option\"\r\n              >\r\n                <slot name=\"option\" :option=\"option\" :is-selected=\"isSelected\" :is-pointed=\"isPointed\" :search=\"search\">\r\n                  <span>{{ localize(option[label]) }}</span>\r\n                </slot>\r\n              </li>\r\n            </ul>\r\n          </li>\r\n        </template>\r\n        <template v-else>\r\n          <li\r\n            v-for=\"(option, i, key) in fo\"\r\n            :class=\"classList.option(option)\"\r\n            :data-pointed=\"isPointed(option)\"\r\n            :data-selected=\"isSelected(option) || undefined\"\r\n            :key=\"key\"\r\n            @mouseenter=\"setPointer(option)\"\r\n            @click=\"handleOptionClick(option)\"\r\n\r\n            :id=\"ariaOptionId(option)\"\r\n            :aria-selected=\"isSelected(option)\"\r\n            :aria-label=\"ariaOptionLabel(localize(option[label]))\"\r\n            role=\"option\"\r\n          >\r\n            <slot name=\"option\" :option=\"option\" :isSelected=\"isSelected\" :is-pointed=\"isPointed\" :search=\"search\">\r\n              <span>{{ localize(option[label]) }}</span>\r\n            </slot>\r\n          </li>\r\n        </template>\r\n      </ul>\r\n\r\n      <slot name=\"nooptions\">\r\n        <div :class=\"classList.noOptions\" v-html=\"noOptions ? localize(noOptionsText) : ''\" aria-live=\"polite\" role=\"status\" aria-atomic=\"true\"></div>\r\n      </slot>\r\n\r\n      <slot name=\"noresults\">\r\n        <div :class=\"classList.noResults\" v-html=\"noResults ? localize(noResultsText) : ''\" aria-live=\"polite\" role=\"status\" aria-atomic=\"true\"></div>\r\n      </slot>\r\n\r\n      <div v-if=\"infinite && hasMore\" :class=\"classList.inifinite\" ref=\"infiniteLoader\">\r\n        <slot name=\"infinite\">\r\n          <span :class=\"classList.inifiniteSpinner\"></span>\r\n        </slot>\r\n      </div>\r\n\r\n      <slot name=\"afterlist\" :options=\"fo\"></slot>\r\n    </div>\r\n\r\n    <!-- Hacky input element to show HTML5 required warning -->\r\n    <input v-if=\"required\" :class=\"classList.fakeInput\" tabindex=\"-1\" :value=\"textValue\" required/>\r\n    \r\n    <!-- Native input support -->\r\n    <template v-if=\"nativeSupport && wcagSupport === false\">\r\n      <input v-if=\"mode == 'single'\" type=\"hidden\" :name=\"name\" :value=\"plainValue !== undefined ? plainValue : ''\" />\r\n      <template v-else>\r\n        <input v-for=\"(v, i) in plainValue\" type=\"hidden\" :name=\"`${name}[]`\" :value=\"v\" :key=\"i\" />\r\n      </template>\r\n    </template>\r\n\r\n    <template v-if=\"wcagSupport && nativeSupport === false\">\r\n      <input v-if=\"mode == 'single'\" type=\"hidden\" :name=\"name\" :value=\"localize(iv[label]) !== undefined ? localize(iv[label]) : ''\" />\r\n      <template v-else>\r\n        <input type=\"hidden\" :name=\"`${name}[]`\" :value=\"multipleLabelText\" />\r\n      </template>\r\n    </template>\r\n\r\n    <!-- Screen reader assistive text -->\r\n    <div v-if=\"searchable && hasSelected\" :class=\"classList.assist\" :id=\"ariaAssist\" aria-hidden=\"true\">\r\n      {{ ariaLabel }}\r\n    </div>\r\n\r\n    <!-- Create height for empty input -->\r\n    <div :class=\"classList.spacer\"></div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  /* istanbul ignore file */\r\n\r\n  import useData from './composables/useData'\r\n  import useValue from './composables/useValue'\r\n  import useSearch from './composables/useSearch'\r\n  import usePointer from './composables/usePointer'\r\n  import useOptions from './composables/useOptions'\r\n  import usePointerAction from './composables/usePointerAction'\r\n  import useDropdown from './composables/useDropdown'\r\n  import useMultiselect from './composables/useMultiselect'\r\n  import useKeyboard from './composables/useKeyboard' \r\n  import useClasses from './composables/useClasses' \r\n  import useScroll from './composables/useScroll' \r\n  import useA11y from './composables/useA11y' \r\n  import useI18n from './composables/useI18n'\r\n\r\n  import resolveDeps from './utils/resolveDeps'\r\n\r\n  export default {\r\n    name: 'Multiselect',\r\n    emits: [\r\n      'paste', 'open', 'close', 'select', 'deselect', \r\n      'input', 'search-change', 'tag', 'option', 'update:modelValue',\r\n      'change', 'clear', 'keydown', 'keyup', 'max', 'create',\r\n    ],\r\n    props: {\r\n      value: {\r\n        required: false,\r\n      },\r\n      modelValue: {\r\n        required: false,\r\n      },\r\n      options: {\r\n        type: [Array, Object, Function],\r\n        required: false,\r\n        default: () => ([])\r\n      },\r\n      id: {\r\n        type: [String, Number],\r\n        required: false,\r\n      },\r\n      name: {\r\n        type: [String, Number],\r\n        required: false,\r\n        default: 'multiselect',\r\n      },\r\n      disabled: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: false,\r\n      },\r\n      label: {\r\n        type: String,\r\n        required: false,\r\n        default: 'label',\r\n      },\r\n      trackBy: {\r\n        type: String,\r\n        required: false,\r\n        default: undefined,\r\n      },\r\n      valueProp: {\r\n        type: String,\r\n        required: false,\r\n        default: 'value',\r\n      },\r\n      placeholder: {\r\n        type: String,\r\n        required: false,\r\n        default: null,\r\n      },\r\n      mode: {\r\n        type: String,\r\n        required: false,\r\n        default: 'single', // single|multiple|tags\r\n      },\r\n      searchable: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: false,\r\n      },\r\n      limit: {\r\n        type: Number,\r\n        required: false,\r\n        default: -1,\r\n      },\r\n      hideSelected: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: true,\r\n      },\r\n      createTag: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: undefined,\r\n      },\r\n      createOption: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: undefined,\r\n      },\r\n      appendNewTag: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: undefined,\r\n      },\r\n      appendNewOption: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: undefined,\r\n      },\r\n      addTagOn: {\r\n        type: Array,\r\n        required: false,\r\n        default: undefined,\r\n      },\r\n      addOptionOn: {\r\n        type: Array,\r\n        required: false,\r\n        default: undefined,\r\n      },\r\n      caret: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: true,\r\n      },\r\n      loading: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: false,\r\n      },\r\n      noOptionsText: {\r\n        type: [String, Object],\r\n        required: false,\r\n        default: 'The list is empty',\r\n      },\r\n      noResultsText: {\r\n        type: [String, Object],\r\n        required: false,\r\n        default: 'No results found',\r\n      },\r\n      clearText: {\r\n        type: [String, Object],\r\n        required: false,\r\n        default: 'Clear',\r\n      },\r\n      multipleLabel: {\r\n        type: Function,\r\n        required: false,\r\n      },\r\n      object: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: false,\r\n      },\r\n      delay: {\r\n        type: Number,\r\n        required: false,\r\n        default: -1,\r\n      },\r\n      minChars: {\r\n        type: Number,\r\n        required: false,\r\n        default: 0,\r\n      },\r\n      resolveOnLoad: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: true,\r\n      },\r\n      filterResults: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: true,\r\n      },\r\n      clearOnSearch: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: false,\r\n      },\r\n      clearOnSelect: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: true,\r\n      },\r\n      canDeselect: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: true,\r\n      },\r\n      canClear: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: true,\r\n      },\r\n      max: {\r\n        type: Number,\r\n        required: false,\r\n        default: -1,\r\n      },\r\n      showOptions: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: true,\r\n      },\r\n      required: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: false,\r\n      },\r\n      openDirection: {\r\n        type: String,\r\n        required: false,\r\n        default: 'bottom',\r\n      },\r\n      nativeSupport: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: false,\r\n      },\r\n      wcagSupport: {\r\n        type: Boolean,\r\n        required: true,\r\n        default: false,\r\n      },\r\n      classes: {\r\n        type: Object,\r\n        required: false,\r\n        default: () => ({})\r\n      },\r\n      strict: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: true,\r\n      },\r\n      closeOnSelect: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: true,\r\n      },\r\n      closeOnDeselect: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: false,\r\n      },\r\n      autocomplete: {\r\n        type: String,\r\n        required: false,\r\n      },\r\n      groups: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: false,\r\n      },\r\n      groupLabel: {\r\n        type: String,\r\n        required: false,\r\n        default: 'label',\r\n      },\r\n      groupOptions: {\r\n        type: String,\r\n        required: false,\r\n        default: 'options',\r\n      },\r\n      groupHideEmpty: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: false,\r\n      },\r\n      groupSelect: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: true,\r\n      },\r\n      inputType: {\r\n        type: String,\r\n        required: false,\r\n        default: 'text',\r\n      },\r\n      attrs: {\r\n        required: false,\r\n        type: Object,\r\n        default: () => ({}),\r\n      },\r\n      onCreate: {\r\n        required: false,\r\n        type: Function,\r\n      },\r\n      disabledProp: {\r\n        type: String,\r\n        required: false,\r\n        default: 'disabled',\r\n      },\r\n      searchStart: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: false,\r\n      },\r\n      reverse: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: false,\r\n      },\r\n      regex: {\r\n        type: [Object, String, RegExp],\r\n        required: false,\r\n        default: undefined,\r\n      },\r\n      rtl: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: false,\r\n      },\r\n      infinite: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: false,\r\n      },\r\n      aria: {\r\n        required: false,\r\n        type: Object,\r\n        default: () => ({}),\r\n      },\r\n      clearOnBlur: {\r\n        required: false,\r\n        type: Boolean,\r\n        default: true,\r\n      },\r\n      locale: {\r\n        required: false,\r\n        type: String,\r\n        default: null,\r\n      },\r\n      fallbackLocale: {\r\n        required: false,\r\n        type: String,\r\n        default: 'en',\r\n      },\r\n      searchFilter: {\r\n        required: false,\r\n        type: Function,\r\n        default: null,\r\n      },\r\n      allowAbsent: {\r\n        required: false,\r\n        type: Boolean,\r\n        default: false,\r\n      },\r\n    },\r\n    setup(props, context)\r\n    { \r\n      return resolveDeps(props, context, [\r\n        useI18n,\r\n        useValue,\r\n        usePointer,\r\n        useDropdown,\r\n        useSearch,\r\n        useData,\r\n        useMultiselect,\r\n        useOptions,\r\n        useScroll,\r\n        usePointerAction,\r\n        useKeyboard,\r\n        useClasses,\r\n        useA11y,\r\n      ])\r\n    }\r\n  }\r\n</script>"],"names":["isNullish","val","undefined","indexOf","useData","props","context","dep","object","valueProp","mode","toRefs","$this","getCurrentInstance","proxy","iv","makeExternal","value","Array","isArray","map","v","makeInternal","update","triggerInput","externalVal","emit","useValue","modelValue","ref","ev","plainValue","computed","textValue","join","internalValue","externalValue","useSearch","regex","isOpen","open","search","input","watch","clearSearch","handleSearchInput","e","target","handleKeypress","regexp","RegExp","key","match","preventDefault","handlePaste","pastedData","clipboardData","window","getData","split","every","c","usePointer","groupSelect","groups","disabledProp","pointer","setPointer","option","group","clearPointer","normalize","str","strict","String","toLowerCase","trim","replace","useOptions","options","trackBy","trackBy_","limit","hideSelected","createTag","createOption","createOption_","label","appendNewTag","appendNewOption","appendNewOption_","multipleLabel","loading","delay","resolveOnLoad","minChars","filterResults","clearOnSearch","clearOnSelect","allowAbsent","groupLabel","canDeselect","max","closeOnSelect","closeOnDeselect","groupped","reverse","infinite","groupOptions","groupHideEmpty","onCreate","searchStart","searchFilter","focus","deactivate","close","localize","ap","ro","resolving","searchWatcher","offset","eo","eg","forEach","optionsToArray","push","Object","assign","length","concat","pfo","createdOption","filterOptions","fo","slice","__CREATE__","pfg","g","fg","filterGroups","index","arrayOptions","o","__VISIBLE__","hasSelected","multipleLabelText","noOptions","noResults","getOptionByTrackBy","nullValue","busy","select","getOption","finalValue","deselect","clear","filter","remove","isSelected","areAllSelected","isDisabled","isMax","handleOptionSelect","handleOptionAppend","appendOption","areAllEnabledSelected","find","norm","parseInt","excludeHideSelected","startsWith","shouldHideOption","uo","variable","prototype","toString","call","keys","initInternalValue","resolveOptions","callback","Promise","resolve","reject","then","response","catch","console","error","finally","refreshLabels","newLabel","i","initSearchWatcher","query","setTimeout","flush","Error","old","newValue","array1","array2","array2Sorted","sort","arraysEqual","deep","n","filteredOptions","extendedOptions","extendedGroups","filteredGroups","selectAll","disabled","handleOptionClick","result","handleGroupClick","k","handleTagRemove","button","refreshOptions","showOptions","searchable","multiselect","canPointGroups","isPointerGroup","currentGroup","getParentGroup","prevGroup","groupIndex","lastGroup","nextGroup","nextIndex","currentGroupFirstEnabledOption","currentGroupPrevEnabledOption","currentGroupNextEnabledOption","prevGroupLastEnabledOption","lastGroupLastEnabledOption","setPointerFirst","adjustWrapperScrollToPointer","pointedOption","querySelector","wrapper","parentElement","offsetTop","offsetHeight","clientHeight","scrollTop","firstSelected","querySelectorAll","nextTick","isPointed","selectPointer","forwardPointer","nextPointer","next","backwardPointer","prevPointer","prevIndex","useDropdown","useMultiselect","clearOnBlur","tags","isActive","mouseClicked","tabindex","blur","activate","shouldOpen","handleFocusIn","closest","nodeName","handleFocusOut","handleCaretClick","handleMousedown","isEqualNode","document","activeElement","useKeyboard","addTagOn","openDirection","addOptionOn","addOptionOn_","preparePointer","handleKeydown","tagList","activeIndex","findIndex","arr","indexToRemove","splice","removeLastRemovable","keyCode","selectionStart","shiftKey","handleKeyup","useClasses","dependencies","classes","classes_","container","containerDisabled","containerOpen","containerOpenTop","containerActive","singleLabel","singleLabelText","tag","tagDisabled","tagRemove","tagRemoveIcon","tagsSearchWrapper","tagsSearch","tagsSearchCopy","placeholder","caret","caretOpen","clearIcon","spinner","inifinite","inifiniteSpinner","dropdown","dropdownTop","dropdownHidden","optionsTop","groupLabelPointable","groupLabelPointed","groupLabelSelected","groupLabelDisabled","groupLabelSelectedPointed","groupLabelSelectedDisabled","optionPointed","optionSelected","optionDisabled","optionSelectedPointed","optionSelectedDisabled","fakeInput","assist","spacer","showDropdown","classList","useScroll","observer","infiniteLoader","hasMore","handleIntersectionObserver","entries","isIntersecting","parent","offsetParent","observe","disconnect","immediate","onMounted","IntersectionObserver","useA11y","id","labelProp","aria","ariaAssist","texts","ariaControls","ariaActiveDescendant","ariaPlaceholder","ariaMultiselectable","ariaLabel","arias","forTag","innerText","ariaOptionId","ariaOptionLabel","ariaGroupId","ariaGroupLabel","ariaTagLabel","useI18n","locale","fallbackLocale","toUpperCase","script","name","emits","required","type","Function","default","Number","Boolean","noOptionsText","noResultsText","clearText","canClear","nativeSupport","wcagSupport","autocomplete","inputType","attrs","rtl","setup","features","deps","composable","resolveDeps","usePointerAction","_createElementBlock","createElementBlock","class","_normalizeClass","normalizeClass","_ctx","$props","dir","onFocusin","args","onFocusout","onKeyup","onKeydown","_createElementVNode","createElementVNode","_mergeProps","onMousedown","role","_createCommentVNode","_openBlock","onInput","onKeypress","onPaste","_Fragment","_renderSlot","$slots","_withKeys","$event","_createTextVNode","_toDisplayString","toDisplayString","onClick","_withModifiers","values","innerHTML","renderSlot","onMouseenter","Fragment","_renderList","renderList","_hoisted_23"],"mappings":"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"}